<!DOCTYPE html>
<meta charset="utf-8"/>
<title>Duplicates</title>
<style>
	pre {
		background-color: #FFD;
		border: 1px solid #E2E2E2;
		padding: 1ex;
	}
</style>
<h1>#1 found 2 clones</h1>
<h2>internal/interface/cli/bdd/framework.go:167</h2>
<pre>if !result.IsOk() {
	b.error = result.Error()
	return b.error
}</pre>
<h2>internal/interface/cli/bdd/framework.go:205</h2>
<pre>if !result.IsOk() {
	b.error = result.Error()
	return b.error
}</pre>
<h1>#2 found 3 clones</h1>
<h2>internal/shared/result/type_test.go:116</h2>
<pre>	                            func(r Result[int]) bool { return r.IsOk() }</pre>
<h2>internal/shared/result/type_test.go:120</h2>
<pre>	                             func(r Result[int]) bool { return r.IsErr() }</pre>
<h2>internal/shared/result/type_test.go:124</h2>
<pre>	                                           func(r Result[int]) int { return r.Value() }</pre>
<h1>#3 found 2 clones</h1>
<h2>internal/shared/utils/format/format.go:30</h2>
<pre>if d < time.Minute {
	return fmt.Sprintf("%.1f s", d.Seconds())
}</pre>
<h2>internal/shared/utils/format/format.go:33</h2>
<pre>if d < time.Hour {
	return fmt.Sprintf("%.1f m", d.Minutes())
}</pre>
<h1>#4 found 2 clones</h1>
<h2>test/config/bdd_nix_validation_test.go:114</h2>
<pre>if err := factories.SetNixGenerationsCount(cfg, generations); err != nil {
	t.Fatalf("FAILED: %v", err)
}</pre>
<h2>test/config/bdd_nix_validation_test.go:157</h2>
<pre>if err := factories.SetNixGenerationsOptimization(cfg, optimizationLevel); err != nil {
	t.Fatalf("FAILED: %v", err)
}</pre>
<h1>#5 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:167</h2>
<pre>for _, line := range lines {
	line = strings.TrimSpace(line)
	if strings.Contains(line, "removed") || strings.Contains(line, "deleted") {
		itemsRemoved++
		// Try to extract size information if available
		if strings.Contains(line, "MB") {
			var size float64
			if _, err := fmt.Sscanf(line, "%f", &size); err == nil {
				bytesFreed += uint64(size * 1024 * 1024)
			}
		}
	}
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:122</h2>
<pre>for _, line := range lines {
	line = strings.TrimSpace(line)
	if strings.Contains(line, "removed") || strings.Contains(line, "deleted") {
		itemsRemoved++
		// Try to extract size information if available
		if strings.Contains(line, "MB") {
			var size float64
			if _, err := fmt.Sscanf(line, "%f", &size); err == nil {
				bytesFreed += uint64(size * 1024 * 1024)
			}
		}
	}
}</pre>
<h1>#6 found 2 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:93</h2>
<pre>if len(original.ProtectedSystemPaths) == len(copied.ProtectedSystemPaths) {
	t.Error("FAILED: slice length modification affected original")
}
if original.ProtectedSystemPaths[0] == copied.ProtectedSystemPaths[0] {
	t.Error("FAILED: slice element modification affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:99</h2>
<pre>if len(original.DefaultProtectedPaths) == len(copied.DefaultProtectedPaths) {
	t.Error("FAILED: default slice length modification affected original")
}
if original.DefaultProtectedPaths[0] == copied.DefaultProtectedPaths[0] {
	t.Error("FAILED: default slice element modification affected original")
}</pre>
<h1>#7 found 2 clones</h1>
<h2>internal/application/config/config.go:27</h2>
<pre>func LoadWithContext(ctx context.Context) (*config.Config, error)</pre>
<h2>internal/application/config/loader.go:23</h2>
<pre>func (cl *ConfigLoader) Load(ctx context.Context) (*domainconfig.Config, error)</pre>
<h1>#8 found 3 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:96</h2>
<pre>                           {
	result := autoremoveResult.Value()
	totalFreed += result.FreedBytes
	totalRemoved += result.ItemsRemoved
	totalFailed += result.ItemsFailed
}</pre>
<h2>internal/infrastructure/cleaners/homebrew.go:113</h2>
<pre>                        {
	result := cleanupResult.Value()
	totalFreed += result.FreedBytes
	totalRemoved += result.ItemsRemoved
	totalFailed += result.ItemsFailed
}</pre>
<h2>internal/infrastructure/cleaners/homebrew.go:127</h2>
<pre>                     {
	result := caskResult.Value()
	totalFreed += result.FreedBytes
	totalRemoved += result.ItemsRemoved
	totalFailed += result.ItemsFailed
}</pre>
<h1>#9 found 6 clones</h1>
<h2>internal/interface/api/mapper_test.go:554</h2>
<pre>publicOp: PublicOperation{
	Name:        "nix-generations",
	Description: "Clean Nix generations",
	RiskLevel:   PublicRiskLow,
	Status:      domain.StatusEnabled,
	Settings:    OperationSettings{},
}</pre>
<h2>internal/interface/api/mapper_test.go:566</h2>
<pre>publicOp: PublicOperation{
	Name:        "temp-files",
	Description: "Clean temporary files",
	RiskLevel:   PublicRiskMedium,
	Status:      domain.StatusEnabled,
	Settings:    OperationSettings{},
}</pre>
<h2>internal/interface/api/mapper_test.go:578</h2>
<pre>publicOp: PublicOperation{
	Name:        "homebrew-cleanup",
	Description: "Clean Homebrew",
	RiskLevel:   PublicRiskHigh,
	Status:      domain.StatusEnabled,
	Settings:    OperationSettings{},
}</pre>
<h2>internal/interface/api/mapper_test.go:590</h2>
<pre>publicOp: PublicOperation{
	Name:        "system-temp",
	Description: "Clean system temp",
	RiskLevel:   PublicRiskCritical,
	Status:      domain.StatusEnabled,
	Settings:    OperationSettings{},
}</pre>
<h2>internal/interface/api/mapper_test.go:602</h2>
<pre>publicOp: PublicOperation{
	Name:        "unknown-operation",
	Description: "Unknown operation",
	RiskLevel:   PublicRiskLow,
	Status:      domain.StatusEnabled,
	Settings:    OperationSettings{},
}</pre>
<h2>internal/interface/api/mapper_test.go:614</h2>
<pre>publicOp: PublicOperation{
	Name:        "my-custom-op",
	Description: "My custom operation",
	RiskLevel:   PublicRiskMedium,
	Status:      domain.StatusEnabled,
	Settings:    OperationSettings{},
}</pre>
<h1>#10 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/temp_files.go:170</h2>
<pre>	                          func(path string, info os.FileInfo, err error) error</pre>
<h2>internal/infrastructure/cleaners/temp_files.go:260</h2>
<pre>	                   func(path string, info os.FileInfo, err error) error</pre>
<h1>#11 found 12 clones</h1>
<h2>internal/infrastructure/system/errors.go:21</h2>
<pre>func ErrNotFound(resource string) error {
	return fmt.Errorf("resource not found: %s", resource)
}</pre>
<h2>internal/infrastructure/system/errors.go:26</h2>
<pre>func ErrTimeout(operation string) error {
	return fmt.Errorf("operation timeout: %s", operation)
}</pre>
<h2>internal/infrastructure/system/errors.go:31</h2>
<pre>func ErrRateLimit(limit float64) error {
	return fmt.Errorf("rate limit exceeded: %.2f requests/second", limit)
}</pre>
<h2>internal/infrastructure/system/errors.go:36</h2>
<pre>func ErrCacheMiss(key string) error {
	return fmt.Errorf("cache miss: key '%s' not found", key)
}</pre>
<h2>internal/infrastructure/system/errors.go:46</h2>
<pre>func ErrNotImplemented(feature string) error {
	return fmt.Errorf("feature not implemented: %s", feature)
}</pre>
<h2>internal/infrastructure/system/errors.go:51</h2>
<pre>func ErrUnauthorized(operation string) error {
	return fmt.Errorf("unauthorized: %s", operation)
}</pre>
<h2>internal/infrastructure/system/errors.go:56</h2>
<pre>func ErrForbidden(operation string) error {
	return fmt.Errorf("forbidden: %s", operation)
}</pre>
<h2>internal/infrastructure/system/errors.go:61</h2>
<pre>func ErrServiceUnavailable(service string) error {
	return fmt.Errorf("service unavailable: %s", service)
}</pre>
<h2>internal/shared/errors/errors.go:8</h2>
<pre>func ConfigLoadError(err error) error {
	return fmt.Errorf("config load error: %w", err)
}</pre>
<h2>internal/shared/errors/errors.go:13</h2>
<pre>func ConfigSaveError(err error) error {
	return fmt.Errorf("config save error: %w", err)
}</pre>
<h2>internal/shared/errors/errors.go:18</h2>
<pre>func ConfigValidateError(message string) error {
	return fmt.Errorf("config validation error: %s", message)
}</pre>
<h2>internal/shared/errors/errors.go:33</h2>
<pre>func SafetyError(message string) error {
	return fmt.Errorf("safety check failed: %s", message)
}</pre>
<h1>#12 found 2 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:66</h2>
<pre>if original.UniquePaths == copied.UniquePaths {
	t.Error("FAILED: modified copied.UniquePaths affected original")
}
if original.UniqueProfiles == copied.UniqueProfiles {
	t.Error("FAILED: modified copied.UniqueProfiles affected original")
}
if original.RequireSafeMode == copied.RequireSafeMode {
	t.Error("FAILED: modified copied.RequireSafeMode affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:235</h2>
<pre>if original.UniquePaths == copied.UniquePaths {
	t.Error("FAILED: empty original affected by copy modification")
}
if original.RequireSafeMode == copied.RequireSafeMode {
	t.Error("FAILED: empty original RequireSafeMode affected by copy modification")
}
if original.MaxRiskLevel == copied.MaxRiskLevel {
	t.Error("FAILED: empty original MaxRiskLevel affected by copy modification")
}</pre>
<h1>#13 found 2 clones</h1>
<h2>internal/infrastructure/system/http_client.go:102</h2>
<pre>func (hc *HTTPClient) Post(ctx context.Context, url string, body any) (*HTTPResponse, error) {
	return hc.doRequest(ctx, "POST", url, body)
}</pre>
<h2>internal/infrastructure/system/http_client.go:107</h2>
<pre>func (hc *HTTPClient) Put(ctx context.Context, url string, body any) (*HTTPResponse, error) {
	return hc.doRequest(ctx, "PUT", url, body)
}</pre>
<h1>#14 found 3 clones</h1>
<h2>test/validation/duration_parser_test.go:52</h2>
<pre>{
	name:        "Valid custom duration - multiple days",
	input:       "7d",
	expectValid: true,
	expected:    7 * 24 * time.Hour,
	expectError: false,
}</pre>
<h2>test/validation/duration_parser_test.go:66</h2>
<pre>{
	name:        "Valid custom duration - many days",
	input:       "30d",
	expectValid: true,
	expected:    30 * 24 * time.Hour,
	expectError: false,
}</pre>
<h2>test/validation/duration_parser_test.go:108</h2>
<pre>{
	name:        "Whitespace handling - valid with spaces",
	input:       " 7d ",
	expectValid: true,
	expected:    7 * 24 * time.Hour,
	expectError: false,
}</pre>
<h1>#15 found 5 clones</h1>
<h2>test/domain/benchmarks_test.go:14</h2>
<pre>for i := 0; b.Loop(); i++ {
	_ = levels[i%len(levels)].String()
}</pre>
<h2>test/domain/benchmarks_test.go:22</h2>
<pre>for i := 0; b.Loop(); i++ {
	_ = strategies[i%len(strategies)].String()
}</pre>
<h2>test/domain/benchmarks_test.go:30</h2>
<pre>for i := 0; b.Loop(); i++ {
	_ = types[i%len(types)].String()
}</pre>
<h2>test/domain/benchmarks_test.go:41</h2>
<pre>for i := 0; b.Loop(); i++ {
	_ = levels[i%len(levels)].IsValid()
}</pre>
<h2>test/domain/benchmarks_test.go:49</h2>
<pre>for i := 0; b.Loop(); i++ {
	_ = strategies[i%len(strategies)].IsValid()
}</pre>
<h1>#16 found 2 clones</h1>
<h2>cmd/clean-wizard/main.go:43</h2>
<pre>                              {
case "none":
	return shared.ValidationLevelNoneType
case "basic":
	return shared.ValidationLevelBasicType
case "comprehensive":
	return shared.ValidationLevelComprehensiveType
case "strict":
	return shared.ValidationLevelStrictType
default:
	return shared.ValidationLevelBasicType
}</pre>
<h2>internal/application/config/config.go:311</h2>
<pre>            {
case "low":
	return shared.RiskLevelLowType
case "medium":
	return shared.RiskLevelMediumType
case "high":
	return shared.RiskLevelHighType
case "critical":
	return shared.RiskLevelCriticalType
default:
	return shared.RiskLevelLowType
}</pre>
<h1>#17 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:172</h2>
<pre>		if strings.Contains(line, "MB") {
			var size float64
			if _, err := fmt.Sscanf(line, "%f", &size); err == nil {
				bytesFreed += uint64(size * 1024 * 1024)
			}
		}
	}
}

cleanupResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyConservative,
}</pre>
<h2>internal/infrastructure/cleaners/npm.go:132</h2>
<pre>	if strings.Contains(output, "MB") {
		var size float64
		if _, err := fmt.Sscanf(output, "%f", &size); err == nil {
			bytesFreed = uint64(size * 1024 * 1024)
		}
	}
}

cleanupCmdResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyConservative,
}</pre>
<h1>#18 found 2 clones</h1>
<h2>cmd/clean-wizard/main.go:104</h2>
<pre>              {
	fmt.Println(colorize(fmt.Sprintf("❌ Failed to create config: %s", err), "red"))
	os.Exit(1)
}</pre>
<h2>cmd/clean-wizard/main.go:110</h2>
<pre>                                                                            {
	fmt.Println(colorize(fmt.Sprintf("❌ Failed to save config: %s", err), "red"))
	os.Exit(1)
}</pre>
<h1>#19 found 9 clones</h1>
<h2>internal/application/config/safe_test.go:40</h2>
<pre>if result != tt.expected {
	t.Errorf("String() = %v, want %v", result, tt.expected)
}</pre>
<h2>internal/application/config/safe_test.go:65</h2>
<pre>if result != tt.expected {
	t.Errorf("RiskLevelIcon() = %v, want %v", result, tt.expected)
}</pre>
<h2>internal/application/config/safe_test.go:90</h2>
<pre>if result != tt.expected {
	t.Errorf("IsValid() = %v, want %v", result, tt.expected)
}</pre>
<h2>internal/application/config/safe_test.go:114</h2>
<pre>if result != tt.expected {
	t.Errorf("IsValid() = %v, want %v", result, tt.expected)
}</pre>
<h2>test/config/safe_test.go:39</h2>
<pre>if result != tt.expected {
	t.Errorf("String() = %v, want %v", result, tt.expected)
}</pre>
<h2>test/config/safe_test.go:64</h2>
<pre>if result != tt.expected {
	t.Errorf("RiskLevelIcon() = %v, want %v", result, tt.expected)
}</pre>
<h2>test/config/safe_test.go:89</h2>
<pre>if result != tt.expected {
	t.Errorf("IsValid() = %v, want %v", result, tt.expected)
}</pre>
<h2>test/config/safe_test.go:113</h2>
<pre>if result != tt.expected {
	t.Errorf("IsValid() = %v, want %v", result, tt.expected)
}</pre>
<h2>test/domain/cleanresult_test.go:119</h2>
<pre>if isValid != tt.shouldValid {
	t.Errorf("IsValid() = %v, expected %v", isValid, tt.shouldValid)
}</pre>
<h1>#20 found 2 clones</h1>
<h2>internal/interface/api/mapper_test.go:388</h2>
<pre>if !strings.Contains(err.Error(), expectedErrorMsg) {
	t.Errorf("Expected error message to contain '%s', got '%s'", expectedErrorMsg, err.Error())
}</pre>
<h2>internal/interface/api/mapper_test.go:742</h2>
<pre>if !strings.Contains(err.Error(), expectedError) {
	t.Errorf("Expected error message to contain '%s', got '%s'", expectedError, err.Error())
}</pre>
<h1>#21 found 2 clones</h1>
<h2>internal/domain/config/config.go:161</h2>
<pre>if c.MaxDiskUsage < 0 || c.MaxDiskUsage > 100 {
	return false
}</pre>
<h2>internal/domain/shared/types.go:273</h2>
<pre>if cr.ItemsRemoved > 0 && cr.FreedBytes == 0 {
	return false
}</pre>
<h1>#22 found 7 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:110</h2>
<pre>var riskLevelHelper = NewEnumHelper(map[RiskLevelType]string{
	RiskLevelLowType:      "LOW",
	RiskLevelMediumType:   "MEDIUM",
	RiskLevelHighType:     "HIGH",
	RiskLevelCriticalType: "CRITICAL",
}, func(rl RiskLevelType) bool {
	return rl >= RiskLevelLowType && rl <= RiskLevelCriticalType
}, func() []RiskLevelType {
	return []RiskLevelType{
		RiskLevelLowType,
		RiskLevelMediumType,
		RiskLevelHighType,
		RiskLevelCriticalType,
	}
}, true)</pre>
<h2>internal/domain/shared/type_safe_enums.go:228</h2>
<pre>var validationLevelHelper = NewEnumHelper(map[ValidationLevelType]string{
	ValidationLevelNoneType:          "NONE",
	ValidationLevelBasicType:         "BASIC",
	ValidationLevelComprehensiveType: "COMPREHENSIVE",
	ValidationLevelStrictType:        "STRICT",
}, func(vl ValidationLevelType) bool {
	return vl >= ValidationLevelNoneType && vl <= ValidationLevelStrictType
}, func() []ValidationLevelType {
	return []ValidationLevelType{
		ValidationLevelNoneType,
		ValidationLevelBasicType,
		ValidationLevelComprehensiveType,
		ValidationLevelStrictType,
	}
}, true)</pre>
<h2>internal/domain/shared/type_safe_enums.go:395</h2>
<pre>var scanTypeHelper = NewEnumHelper(map[ScanTypeType]string{
	ScanTypeNixStoreType: "nix_store",
	ScanTypeHomebrewType: "homebrew",
	ScanTypeSystemType:   "system",
	ScanTypeTempType:     "temp_files",
}, func(st ScanTypeType) bool {
	return st >= ScanTypeNixStoreType && st <= ScanTypeTempType
}, func() []ScanTypeType {
	return []ScanTypeType{
		ScanTypeNixStoreType,
		ScanTypeHomebrewType,
		ScanTypeSystemType,
		ScanTypeTempType,
	}
}, false)</pre>
<h2>internal/domain/shared/type_safe_enums.go:474</h2>
<pre>var enforcementLevelTypeHelper = NewEnumHelper(map[EnforcementLevelType]string{
	EnforcementLevelNone:    "none",
	EnforcementLevelWarning: "warning",
	EnforcementLevelError:   "error",
	EnforcementLevelStrict:  "strict",
}, func(el EnforcementLevelType) bool {
	return el >= EnforcementLevelNone && el <= EnforcementLevelStrict
}, func() []EnforcementLevelType {
	return []EnforcementLevelType{EnforcementLevelNone, EnforcementLevelWarning, EnforcementLevelError, EnforcementLevelStrict}
}, false)</pre>
<h2>internal/domain/shared/type_safe_enums.go:587</h2>
<pre>var recursionLevelTypeHelper = NewEnumHelper(map[RecursionLevelType]string{
	RecursionLevelNone:     "none",
	RecursionLevelDirect:   "direct",
	RecursionLevelFull:     "full",
	RecursionLevelInfinite: "infinite",
}, func(rl RecursionLevelType) bool {
	return rl >= RecursionLevelNone && rl <= RecursionLevelInfinite
}, func() []RecursionLevelType {
	return []RecursionLevelType{RecursionLevelNone, RecursionLevelDirect, RecursionLevelFull, RecursionLevelInfinite}
}, false)</pre>
<h2>internal/domain/shared/type_safe_enums.go:772</h2>
<pre>var safetyLevelTypeHelper = NewEnumHelper(map[SafetyLevelType]string{
	SafetyLevelDisabled: "disabled",
	SafetyLevelEnabled:  "enabled",
	SafetyLevelStrict:   "strict",
	SafetyLevelParanoid: "paranoid",
}, func(sl SafetyLevelType) bool {
	return sl >= SafetyLevelDisabled && sl <= SafetyLevelParanoid
}, func() []SafetyLevelType {
	return []SafetyLevelType{SafetyLevelDisabled, SafetyLevelEnabled, SafetyLevelStrict, SafetyLevelParanoid}
}, false)</pre>
<h2>internal/domain/shared/type_safe_enums.go:825</h2>
<pre>var executionModeTypeHelper = NewEnumHelper(map[ExecutionModeType]string{
	ExecutionModeDryRun:   "dry-run",
	ExecutionModeSimulate: "simulate",
	ExecutionModeExecute:  "execute",
	ExecutionModeForce:    "force",
}, func(em ExecutionModeType) bool {
	return em >= ExecutionModeDryRun && em <= ExecutionModeForce
}, func() []ExecutionModeType {
	return []ExecutionModeType{ExecutionModeDryRun, ExecutionModeSimulate, ExecutionModeExecute, ExecutionModeForce}
}, false)</pre>
<h1>#23 found 2 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:185</h2>
<pre>                                                                {
	return &CleanWizardError{
		Code:      code,
		Level:     LevelError,
		Message:   message,
		Details:   nil,
		Timestamp: time.Now(),
		Stack:     captureStack(),
	}
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:197</h2>
<pre>                                                                                           {
	return &CleanWizardError{
		Code:      code,
		Level:     level,
		Message:   message,
		Details:   nil,
		Timestamp: time.Now(),
		Stack:     captureStack(),
	}
}</pre>
<h1>#24 found 5 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:226</h2>
<pre>func (hc *HomebrewCleaner) cleanupCaskCache(ctx context.Context) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/cleaners/npm.go:110</h2>
<pre>func (nc *NpmCleaner) runCleanupCommand(ctx context.Context) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:103</h2>
<pre>func (pc *PnpmCleaner) runCleanupCommand(ctx context.Context) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/cleaners/temp_files.go:99</h2>
<pre>func (tfc *TempFileCleaner) runCleanupCommand(ctx context.Context) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/system/nix.go:102</h2>
<pre>func (n *NixAdapter) CollectGarbage(ctx context.Context) result.Result[shared.CleanResult]</pre>
<h1>#25 found 3 clones</h1>
<h2>internal/domain/shared/types.go:240</h2>
<pre>	       sr.TotalBytes >= 0 && sr.TotalItems >= 0 && sr.ScanTime >= 0</pre>
<h2>internal/domain/shared/types.go:277</h2>
<pre>	   cr.ItemsFailed > 0 && cr.ItemsRemoved == 0 && cr.FreedBytes == 0</pre>
<h2>internal/domain/shared/types.go:291</h2>
<pre>	   cr.ItemsFailed > 0 && cr.ItemsRemoved == 0 && cr.FreedBytes == 0</pre>
<h1>#26 found 2 clones</h1>
<h2>internal/interface/api/mapper_test.go:600</h2>
<pre>{
	name: "Unknown Operation Type",
	publicOp: PublicOperation{
		Name:        "unknown-operation",
		Description: "Unknown operation",
		RiskLevel:   PublicRiskLow,
		Status:      domain.StatusEnabled,
		Settings:    OperationSettings{},
	},
	expectedType: domain.OperationType("unknown-operation"),
	shouldError:  false, // Should not error with custom operation support
}</pre>
<h2>internal/interface/api/mapper_test.go:612</h2>
<pre>{
	name: "Custom Operation with hyphens",
	publicOp: PublicOperation{
		Name:        "my-custom-op",
		Description: "My custom operation",
		RiskLevel:   PublicRiskMedium,
		Status:      domain.StatusEnabled,
		Settings:    OperationSettings{},
	},
	expectedType: domain.OperationType("my-custom-op"),
	shouldError:  false, // Should not error with custom operation support
}</pre>
<h1>#27 found 2 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:136</h2>
<pre>if e.Details.Field != "" {
	details = append(details, fmt.Sprintf("field=%s", e.Details.Field))
}
if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:139</h2>
<pre>if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}
if e.Details.Duration != "" {
	details = append(details, fmt.Sprintf("duration=%s", e.Details.Duration))
}</pre>
<h1>#28 found 2 clones</h1>
<h2>internal/domain/shared/types.go:149</h2>
<pre>type NixGeneration struct {
	ID     int                `json:"id"`
	Path   string             `json:"path"`
	Date   time.Time          `json:"date"`
	Status SelectedStatusType `json:"status"`
}</pre>
<h2>internal/domain/shared/types.go:205</h2>
<pre>type ScanItem struct {
	Path     string       `json:"path"`
	Size     int64        `json:"size"`
	Created  time.Time    `json:"created"`
	ScanType ScanTypeType `json:"scan_type"`
}</pre>
<h1>#29 found 4 clones</h1>
<h2>test/validation/duration_parser_test.go:249</h2>
<pre>{
	name:     "1 minute 30 seconds",
	input:    1*time.Minute + 30*time.Second,
	expected: "1m30s",
},
{
	name:     "30 minutes 30 seconds",
	input:    30*time.Minute + 30*time.Second,
	expected: "30m30s",
}</pre>
<h2>test/validation/duration_parser_test.go:254</h2>
<pre>{
	name:     "30 minutes 30 seconds",
	input:    30*time.Minute + 30*time.Second,
	expected: "30m30s",
},
{
	name:     "59 minutes 30 seconds",
	input:    59*time.Minute + 30*time.Second,
	expected: "59m30s",
}</pre>
<h2>test/validation/duration_parser_test.go:283</h2>
<pre>{
	name:     "1 hour 30 minutes",
	input:    1*time.Hour + 30*time.Minute,
	expected: "1h30m0s",
},
{
	name:     "12 hours 30 minutes",
	input:    12*time.Hour + 30*time.Minute,
	expected: "12h30m0s",
}</pre>
<h2>test/validation/duration_parser_test.go:288</h2>
<pre>{
	name:     "12 hours 30 minutes",
	input:    12*time.Hour + 30*time.Minute,
	expected: "12h30m0s",
},
{
	name:     "23 hours 30 minutes",
	input:    23*time.Hour + 30*time.Minute,
	expected: "23h30m0s",
}</pre>
<h1>#30 found 2 clones</h1>
<h2>internal/infrastructure/system/cache_manager.go:49</h2>
<pre>func (cm *CacheManager) ItemCount() int {
	return cm.cache.ItemCount()
}</pre>
<h2>internal/infrastructure/system/rate_limiter.go:29</h2>
<pre>func (rl *RateLimiter) Allow() bool {
	return rl.limiter.Allow()
}</pre>
<h1>#31 found 2 clones</h1>
<h2>test/config/bdd_nix_validation_test.go:131</h2>
<pre>for i, op := range profile.Operations {
	if op.Name == "nix-generations" {
		profile.Operations[i].RiskLevel = level
		operationFound = true
		break
	}
}</pre>
<h2>test/config/bdd_nix_validation_test.go:181</h2>
<pre>for i, op := range profile.Operations {
	if op.Name == "nix-generations" {
		profile.Operations[i].Status = status
		operationFound = true
		break
	}
}</pre>
<h1>#32 found 2 clones</h1>
<h2>internal/shared/result/type_test.go:9</h2>
<pre>func testResultMethod(t *testing.T, methodName string, methodFunc func(Result[int]) bool, okExpected, errExpected bool)</pre>
<h2>internal/shared/result/type_test.go:40</h2>
<pre>func runMethodTest[T comparable](t *testing.T, methodName string, methodFunc func(Result[int]) T, okResult, errResult T)</pre>
<h1>#33 found 2 clones</h1>
<h2>internal/application/config/safe_test.go:237</h2>
<pre>if tt.expectError {
	if err == nil {
		t.Error("expected error but got none")
		return
	}
	if tt.errorMsg != "" {
		errMsg := err.Error()
		if !contains(errMsg, tt.errorMsg) {
			t.Errorf("expected error message containing %q, got %q", tt.errorMsg, errMsg)
		}
	}
	return
}</pre>
<h2>test/config/safe_test.go:236</h2>
<pre>if tt.expectError {
	if err == nil {
		t.Error("expected error but got none")
		return
	}
	if tt.errorMsg != "" {
		errMsg := err.Error()
		if !contains(errMsg, tt.errorMsg) {
			t.Errorf("expected error message containing %q, got %q", tt.errorMsg, errMsg)
		}
	}
	return
}</pre>
<h1>#34 found 14 clones</h1>
<h2>test/config/safety_level_test.go:22</h2>
<pre>{
	name: "string enabled",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", "enabled")
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:30</h2>
<pre>{
	name: "string disabled",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", "disabled")
	},
	expected:         shared.SafetyLevelDisabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:38</h2>
<pre>{
	name: "string strict",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", "strict")
	},
	expected:         shared.SafetyLevelStrict,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:46</h2>
<pre>{
	name: "string paranoid",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", "paranoid")
	},
	expected:         shared.SafetyLevelParanoid,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:54</h2>
<pre>{
	name: "string with whitespace",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", "  enabled  ")
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:62</h2>
<pre>{
	name: "string uppercase",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", "ENABLED")
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:70</h2>
<pre>{
	name: "numeric 0",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", 0)
	},
	expected:         shared.SafetyLevelDisabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:78</h2>
<pre>{
	name: "numeric 1",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", 1)
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:86</h2>
<pre>{
	name: "numeric 2",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", 2)
	},
	expected:         shared.SafetyLevelStrict,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:94</h2>
<pre>{
	name: "numeric 3",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", 3)
	},
	expected:         shared.SafetyLevelParanoid,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:102</h2>
<pre>{
	name: "float64 1.0",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", 1.0)
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:110</h2>
<pre>{
	name: "float64 1.5 (invalid float)",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", 1.5)
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:143</h2>
<pre>{
	name: "invalid string defaults to enabled",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", "invalid")
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:151</h2>
<pre>{
	name: "invalid numeric defaults to enabled",
	setup: func(v *viper.Viper) {
		v.Set("safety_level", 999)
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h1>#35 found 9 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:66</h2>
<pre>if original.UniquePaths == copied.UniquePaths {
	t.Error("FAILED: modified copied.UniquePaths affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:69</h2>
<pre>if original.UniqueProfiles == copied.UniqueProfiles {
	t.Error("FAILED: modified copied.UniqueProfiles affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:72</h2>
<pre>if original.RequireSafeMode == copied.RequireSafeMode {
	t.Error("FAILED: modified copied.RequireSafeMode affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:75</h2>
<pre>if original.MaxRiskLevel == copied.MaxRiskLevel {
	t.Error("FAILED: modified copied.MaxRiskLevel affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:78</h2>
<pre>if original.BackupRequired == copied.BackupRequired {
	t.Error("FAILED: modified copied.BackupRequired affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:216</h2>
<pre>if originalWithNils.UniquePaths == copiedWithNils.UniquePaths {
	t.Error("FAILED: boolean field modification affected original with nils")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:235</h2>
<pre>if original.UniquePaths == copied.UniquePaths {
	t.Error("FAILED: empty original affected by copy modification")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:238</h2>
<pre>if original.RequireSafeMode == copied.RequireSafeMode {
	t.Error("FAILED: empty original RequireSafeMode affected by copy modification")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:241</h2>
<pre>if original.MaxRiskLevel == copied.MaxRiskLevel {
	t.Error("FAILED: empty original MaxRiskLevel affected by copy modification")
}</pre>
<h1>#36 found 3 clones</h1>
<h2>test/nix.go:14</h2>
<pre>{ID: 300, Path: "/nix/var/nix/profiles/default-300-link", Date: now.Add(-24 * time.Hour), Status: shared.SelectedStatusSelected},
{ID: 299, Path: "/nix/var/nix/profiles/default-299-link", Date: now.Add(-48 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 298, Path: "/nix/var/nix/profiles/default-298-link", Date: now.Add(-72 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:15</h2>
<pre>{ID: 299, Path: "/nix/var/nix/profiles/default-299-link", Date: now.Add(-48 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 298, Path: "/nix/var/nix/profiles/default-298-link", Date: now.Add(-72 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 297, Path: "/nix/var/nix/profiles/default-297-link", Date: now.Add(-96 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:16</h2>
<pre>{ID: 298, Path: "/nix/var/nix/profiles/default-298-link", Date: now.Add(-72 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 297, Path: "/nix/var/nix/profiles/default-297-link", Date: now.Add(-96 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 296, Path: "/nix/var/nix/profiles/default-296-link", Date: now.Add(-120 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h1>#37 found 5 clones</h1>
<h2>test/validation/duration_parser_test.go:73</h2>
<pre>{
	name:        "Invalid duration - empty string",
	input:       "",
	expectValid: false,
	expected:    0,
	expectError: true,
}</pre>
<h2>test/validation/duration_parser_test.go:80</h2>
<pre>{
	name:        "Invalid duration - unsupported unit",
	input:       "1w", // weeks not supported
	expectValid: false,
	expected:    0,
	expectError: true,
}</pre>
<h2>test/validation/duration_parser_test.go:87</h2>
<pre>{
	name:        "Invalid duration - malformed days",
	input:       "1.xd",
	expectValid: false,
	expected:    0,
	expectError: true,
}</pre>
<h2>test/validation/duration_parser_test.go:94</h2>
<pre>{
	name:        "Invalid duration - negative days",
	input:       "-1d",
	expectValid: false,
	expected:    0,
	expectError: true,
}</pre>
<h2>test/validation/duration_parser_test.go:101</h2>
<pre>{
	name:        "Invalid duration - just unit",
	input:       "d",
	expectValid: false,
	expected:    0,
	expectError: true,
}</pre>
<h1>#38 found 3 clones</h1>
<h2>test/validation/validation_sanitizer_test.go:13</h2>
<pre>           struct {
	name             string
	config           *shared.Config
	expectedChanges  []string
	expectedWarnings int
}</pre>
<h2>test/validation/validation_sanitizer_test.go:23</h2>
<pre>                      struct {
	name             string
	config           *shared.Config
	expectedChanges  []string
	expectedWarnings int
}</pre>
<h2>test/validation/validation_sanitizer_test.go:37</h2>
<pre>                      struct {
	name             string
	config           *shared.Config
	expectedChanges  []string
	expectedWarnings int
}</pre>
<h1>#39 found 2 clones</h1>
<h2>internal/application/config/type_safe_validation_rules.go:107</h2>
<pre>if tsvr.ProtectedSystemPaths != nil {
	copied.ProtectedSystemPaths = make([]string, len(tsvr.ProtectedSystemPaths))
	copy(copied.ProtectedSystemPaths, tsvr.ProtectedSystemPaths)
}</pre>
<h2>internal/application/config/type_safe_validation_rules.go:112</h2>
<pre>if tsvr.DefaultProtectedPaths != nil {
	copied.DefaultProtectedPaths = make([]string, len(tsvr.DefaultProtectedPaths))
	copy(copied.DefaultProtectedPaths, tsvr.DefaultProtectedPaths)
}</pre>
<h1>#40 found 2 clones</h1>
<h2>test/validation/validation_benchmark_test.go:41</h2>
<pre>for b.Loop() {
	for _, name := range profileNames {
		_ = validator.validateProfileName(name)
	}
}</pre>
<h2>test/validation/validation_benchmark_test.go:76</h2>
<pre>for b.Loop() {
	for _, opType := range operationTypes {
		_ = settings.ValidateSettings(opType)
	}
}</pre>
<h1>#41 found 3 clones</h1>
<h2>test/domain/cleanresult_test.go:20</h2>
<pre>result: CleanResult{
	FreedBytes:   1024,
	ItemsRemoved: 5,
	ItemsFailed:  0,
	CleanTime:    time.Second,
	CleanedAt:    time.Now(),
	Strategy:     StrategyAggressive,
}</pre>
<h2>test/domain/cleanresult_test.go:59</h2>
<pre>result: CleanResult{
	FreedBytes:   0,
	ItemsRemoved: 1,
	ItemsFailed:  0,
	CleanTime:    time.Second,
	CleanedAt:    time.Now(),
	Strategy:     StrategyAggressive,
}</pre>
<h2>test/domain/cleanresult_test.go:73</h2>
<pre>result: CleanResult{
	FreedBytes:   0,
	ItemsRemoved: 0,
	ItemsFailed:  5,
	CleanTime:    time.Second,
	CleanedAt:    time.Now(),
	Strategy:     StrategyConservative,
}</pre>
<h1>#42 found 3 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:31</h2>
<pre>func (hc *HomebrewCleaner) IsAvailable(ctx context.Context) bool {
	// Check if brew command exists and is executable
	return checkCommandExists(ctx, "brew")
}</pre>
<h2>internal/infrastructure/cleaners/npm.go:28</h2>
<pre>func (nc *NpmCleaner) IsAvailable(ctx context.Context) bool {
	return checkCommandExists(ctx, "npm")
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:28</h2>
<pre>func (pc *PnpmCleaner) IsAvailable(ctx context.Context) bool {
	return checkCommandExists(ctx, "pnpm")
}</pre>
<h1>#43 found 3 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:172</h2>
<pre>if strings.Contains(line, "MB") {
	var size float64
	if _, err := fmt.Sscanf(line, "%f", &size); err == nil {
		bytesFreed += uint64(size * 1024 * 1024)
	}
}</pre>
<h2>internal/infrastructure/cleaners/npm.go:132</h2>
<pre>if strings.Contains(output, "MB") {
	var size float64
	if _, err := fmt.Sscanf(output, "%f", &size); err == nil {
		bytesFreed = uint64(size * 1024 * 1024)
	}
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:127</h2>
<pre>if strings.Contains(line, "MB") {
	var size float64
	if _, err := fmt.Sscanf(line, "%f", &size); err == nil {
		bytesFreed += uint64(size * 1024 * 1024)
	}
}</pre>
<h1>#44 found 3 clones</h1>
<h2>internal/interface/api/mapper_test.go:292</h2>
<pre>if domainRequest.Items[0].Path != "temp-files" {
	t.Errorf("Expected temp-files path, got %s", domainRequest.Items[0].Path)
}</pre>
<h2>internal/interface/api/mapper_test.go:301</h2>
<pre>if domainRequest.Items[1].Path != "cache-files" {
	t.Errorf("Expected cache-files path, got %s", domainRequest.Items[1].Path)
}</pre>
<h2>test/config/integration_test.go:65</h2>
<pre>if cfg.Profiles["daily"].Name != "Daily Cleanup" {
	t.Errorf("Expected sanitized profile name 'Daily Cleanup', got: %s", cfg.Profiles["daily"].Name)
}</pre>
<h1>#45 found 4 clones</h1>
<h2>internal/domain/config/config.go:188</h2>
<pre>if len(c.Protected) == 0 {
	return fmt.Errorf("protected paths cannot be empty")
}</pre>
<h2>internal/domain/config/config.go:198</h2>
<pre>if len(c.Profiles) == 0 {
	return fmt.Errorf("configuration must have at least one profile")
}</pre>
<h2>internal/domain/shared/types.go:223</h2>
<pre>if len(cr.Items) == 0 {
	return fmt.Errorf("Items cannot be empty")
}</pre>
<h2>test/config/bdd_nix_validation_test.go:24</h2>
<pre>if len(result.Errors) == 0 {
	return fmt.Errorf("expected validation errors")
}</pre>
<h1>#46 found 6 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:286</h2>
<pre>var changeOperationHelper = NewEnumHelper(map[ChangeOperationType]string{
	ChangeOperationAddedType:    "ADDED",
	ChangeOperationRemovedType:  "REMOVED",
	ChangeOperationModifiedType: "MODIFIED",
}, func(co ChangeOperationType) bool {
	return co >= ChangeOperationAddedType && co <= ChangeOperationModifiedType
}, func() []ChangeOperationType {
	return []ChangeOperationType{
		ChangeOperationAddedType,
		ChangeOperationRemovedType,
		ChangeOperationModifiedType,
	}
}, true) // case sensitive for change operations

// String returns the string representation
func (co ChangeOperationType) String() string {
	return changeOperationHelper.String(co)
}

// IsValid checks if change operation is valid
func (co ChangeOperationType) IsValid() bool {
	return changeOperationHelper.IsValid(co)
}

// Values returns all possible values
func (co ChangeOperationType) Values() []ChangeOperationType {
	return changeOperationHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:340</h2>
<pre>var cleanStrategyHelper = NewEnumHelper(map[CleanStrategyType]string{
	StrategyAggressiveType:   "aggressive",
	StrategyConservativeType: "conservative",
	StrategyDryRunType:       "dry-run",
}, func(cs CleanStrategyType) bool {
	return cs >= StrategyAggressiveType && cs <= StrategyDryRunType
}, func() []CleanStrategyType {
	return []CleanStrategyType{
		StrategyAggressiveType,
		StrategyConservativeType,
		StrategyDryRunType,
	}
}, false) // case insensitive for strategies (accept "dryrun", "dry-run")

// String returns string representation
func (cs CleanStrategyType) String() string {
	return cleanStrategyHelper.String(cs)
}

// IsValid checks if clean strategy is valid
func (cs CleanStrategyType) IsValid() bool {
	return cleanStrategyHelper.IsValid(cs)
}

// Values returns all possible values
func (cs CleanStrategyType) Values() []CleanStrategyType {
	return cleanStrategyHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:422</h2>
<pre>var statusTypeHelper = NewEnumHelper(map[StatusType]string{
	StatusDisabled:  "disabled",
	StatusEnabled:   "enabled",
	StatusInherited: "inherited",
}, func(s StatusType) bool {
	return s >= StatusDisabled && s <= StatusInherited
}, func() []StatusType {
	return []StatusType{StatusDisabled, StatusEnabled, StatusInherited}
}, false)

// String returns string representation
func (s StatusType) String() string {
	return statusTypeHelper.String(s)
}

// IsValid checks if status is valid
func (s StatusType) IsValid() bool {
	return statusTypeHelper.IsValid(s)
}

// Values returns all possible status values
func (s StatusType) Values() []StatusType {
	return statusTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:526</h2>
<pre>var selectedStatusTypeHelper = NewEnumHelper(map[SelectedStatusType]string{
	SelectedStatusNotSelected: "not_selected",
	SelectedStatusSelected:    "selected",
	SelectedStatusDefault:     "default",
}, func(ss SelectedStatusType) bool {
	return ss >= SelectedStatusNotSelected && ss <= SelectedStatusDefault
}, func() []SelectedStatusType {
	return []SelectedStatusType{SelectedStatusNotSelected, SelectedStatusSelected, SelectedStatusDefault}
}, false)

// String returns string representation
func (ss SelectedStatusType) String() string {
	return selectedStatusTypeHelper.String(ss)
}

// IsValid checks if selected status is valid
func (ss SelectedStatusType) IsValid() bool {
	return selectedStatusTypeHelper.IsValid(ss)
}

// Values returns all possible selected status values
func (ss SelectedStatusType) Values() []SelectedStatusType {
	return selectedStatusTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:639</h2>
<pre>var optimizationLevelTypeHelper = NewEnumHelper(map[OptimizationLevelType]string{
	OptimizationLevelNone:         "none",
	OptimizationLevelConservative: "conservative",
	OptimizationLevelAggressive:   "aggressive",
}, func(ol OptimizationLevelType) bool {
	return ol >= OptimizationLevelNone && ol <= OptimizationLevelAggressive
}, func() []OptimizationLevelType {
	return []OptimizationLevelType{OptimizationLevelNone, OptimizationLevelConservative, OptimizationLevelAggressive}
}, false)

// String returns string representation
func (ol OptimizationLevelType) String() string {
	return optimizationLevelTypeHelper.String(ol)
}

// IsValid checks if optimization level is valid
func (ol OptimizationLevelType) IsValid() bool {
	return optimizationLevelTypeHelper.IsValid(ol)
}

// Values returns all possible optimization level values
func (ol OptimizationLevelType) Values() []OptimizationLevelType {
	return optimizationLevelTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:690</h2>
<pre>var fileSelectionStrategyTypeHelper = NewEnumHelper(map[FileSelectionStrategyType]string{
	FileSelectionStrategyAll:        "all",
	FileSelectionStrategyUnusedOnly: "unused_only",
	FileSelectionStrategyManual:     "manual",
}, func(fss FileSelectionStrategyType) bool {
	return fss >= FileSelectionStrategyAll && fss <= FileSelectionStrategyManual
}, func() []FileSelectionStrategyType {
	return []FileSelectionStrategyType{FileSelectionStrategyAll, FileSelectionStrategyUnusedOnly, FileSelectionStrategyManual}
}, false)

// String returns string representation
func (fss FileSelectionStrategyType) String() string {
	return fileSelectionStrategyTypeHelper.String(fss)
}

// IsValid checks if file selection strategy is valid
func (fss FileSelectionStrategyType) IsValid() bool {
	return fileSelectionStrategyTypeHelper.IsValid(fss)
}

// Values returns all possible file selection strategy values
func (fss FileSelectionStrategyType) Values() []FileSelectionStrategyType {
	return fileSelectionStrategyTypeHelper.Values()
}</pre>
<h1>#47 found 5 clones</h1>
<h2>test/validation/duration_parser_test.go:17</h2>
<pre>{
	name:        "Valid Go duration - seconds",
	input:       "30s",
	expectValid: true,
	expected:    30 * time.Second,
	expectError: false,
}</pre>
<h2>test/validation/duration_parser_test.go:24</h2>
<pre>{
	name:        "Valid Go duration - minutes",
	input:       "15m",
	expectValid: true,
	expected:    15 * time.Minute,
	expectError: false,
}</pre>
<h2>test/validation/duration_parser_test.go:31</h2>
<pre>{
	name:        "Valid Go duration - hours",
	input:       "2h",
	expectValid: true,
	expected:    2 * time.Hour,
	expectError: false,
}</pre>
<h2>test/validation/duration_parser_test.go:45</h2>
<pre>{
	name:        "Valid custom duration - single day",
	input:       "1d",
	expectValid: true,
	expected:    24 * time.Hour,
	expectError: false,
}</pre>
<h2>test/validation/duration_parser_test.go:59</h2>
<pre>{
	name:        "Valid custom duration - fractional days",
	input:       "1.5d",
	expectValid: true,
	expected:    36 * time.Hour,
	expectError: false,
}</pre>
<h1>#48 found 8 clones</h1>
<h2>internal/shared/errors/filesystem_integration_test.go:26</h2>
<pre>error:        &os.PathError{Err: os.ErrNotExist, Path: "/tmp/missing"}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:32</h2>
<pre>error:        &os.PathError{Err: os.ErrPermission, Path: "/etc/shadow"}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:38</h2>
<pre>error:        &os.PathError{Err: syscall.ENOSPC, Path: "/tmp/full"}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:64</h2>
<pre>error: &os.PathError{Err: os.ErrClosed, Path: "/tmp/closed"}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:68</h2>
<pre>error: &os.PathError{Err: syscall.EINVAL, Path: "/tmp/invalid"}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:72</h2>
<pre>error: &os.PathError{Err: syscall.EIO, Path: "/tmp/io"}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:76</h2>
<pre>error: &os.PathError{Err: syscall.ETXTBSY, Path: "/tmp/busy"}</pre>
<h2>test/validation/validation_benchmark_test.go:59</h2>
<pre>Homebrew: &shared.HomebrewSettings{
	FileSelectionStrategy: shared.FileSelectionStrategyUnusedOnly,
	Prune:                 "30d",
}</pre>
<h1>#49 found 2 clones</h1>
<h2>test/validation/duration_parser_test.go:45</h2>
<pre>{
	name:        "Valid custom duration - single day",
	input:       "1d",
	expectValid: true,
	expected:    24 * time.Hour,
	expectError: false,
},
{
	name:        "Valid custom duration - multiple days",
	input:       "7d",
	expectValid: true,
	expected:    7 * 24 * time.Hour,
	expectError: false,
}</pre>
<h2>test/validation/duration_parser_test.go:59</h2>
<pre>{
	name:        "Valid custom duration - fractional days",
	input:       "1.5d",
	expectValid: true,
	expected:    36 * time.Hour,
	expectError: false,
},
{
	name:        "Valid custom duration - many days",
	input:       "30d",
	expectValid: true,
	expected:    30 * 24 * time.Hour,
	expectError: false,
}</pre>
<h1>#50 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/nix.go:105</h2>
<pre>func (nc *NixCleaner) CleanOldGenerations(ctx context.Context, keepCount int) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/system/nix.go:158</h2>
<pre>func (n *NixAdapter) RemoveGeneration(ctx context.Context, genID int) result.Result[shared.CleanResult]</pre>
<h1>#51 found 2 clones</h1>
<h2>internal/domain/shared/types.go:116</h2>
<pre>if len(name) > 50 { // TODO: Make this configurable
	return "", fmt.Errorf("profile name '%s' exceeds maximum length (50)", name)
}</pre>
<h2>internal/domain/validation/duration_parser.go:78</h2>
<pre>if len(matches) != 2 {
	return 0, fmt.Errorf("invalid days duration format: %s", durationStr)
}</pre>
<h1>#52 found 2 clones</h1>
<h2>internal/shared/errors/adapters.go:131</h2>
<pre>func (nea *NetworkErrorAdapter) Adapt(err error, operation string) *CleanWizardError {
	if err == nil {
		return nil
	}

	// Only handle actual network errors
	if !isNetworkError(err) {
		return nil
	}

	return WrapError(err, ErrCodeConnectionFailed,
		"Network operation failed: "+operation).WithCaller()
}</pre>
<h2>internal/shared/errors/adapters.go:172</h2>
<pre>func (sea *SystemErrorAdapter) Adapt(err error, component string) *CleanWizardError {
	if err == nil {
		return nil
	}

	// Only handle actual system errors
	if !isSystemError(err) {
		return nil
	}

	return WrapError(err, ErrCodeProcessFailed,
		"System component failed: "+component).WithCaller()
}</pre>
<h1>#53 found 3 clones</h1>
<h2>internal/shared/errors/adapters.go:49</h2>
<pre>return NewError(ErrCodeFileNotFound,
	"File not found: "+pathErr.Path).WithCause(err).WithCaller()</pre>
<h2>internal/shared/errors/adapters.go:52</h2>
<pre>return NewError(ErrCodePermissionError,
	"Permission denied: "+pathErr.Path).WithCause(err).WithCaller()</pre>
<h2>internal/shared/errors/adapters.go:55</h2>
<pre>return NewError(ErrCodeDiskFull,
	"Disk full: "+pathErr.Path).WithCause(err).WithCaller()</pre>
<h1>#54 found 2 clones</h1>
<h2>internal/shared/errors/errors_test.go:119</h2>
<pre>t.Run("File not found", func(t *testing.T) {
	err := &os.PathError{Err: os.ErrNotExist, Path: "/tmp/missing"}
	cwErr := adapter.Adapt(err)

	require.NotNil(t, cwErr)
	assert.Equal(t, ErrCodeFileNotFound, cwErr.Code)
	assert.Equal(t, ErrorTypeFileSystem, cwErr.Type)
	assert.Equal(t, SeverityWarning, cwErr.Severity)
	assert.Contains(t, cwErr.Message, "/tmp/missing")
	assert.Equal(t, err, cwErr.Cause)
})</pre>
<h2>internal/shared/errors/errors_test.go:131</h2>
<pre>t.Run("Permission denied", func(t *testing.T) {
	err := &os.PathError{Err: os.ErrPermission, Path: "/tmp/protected"}
	cwErr := adapter.Adapt(err)

	require.NotNil(t, cwErr)
	assert.Equal(t, ErrCodePermissionError, cwErr.Code)
	assert.Equal(t, ErrorTypePermission, cwErr.Type)
	assert.Equal(t, SeverityError, cwErr.Severity)
	assert.Contains(t, cwErr.Message, "/tmp/protected")
	assert.Equal(t, err, cwErr.Cause)
})</pre>
<h1>#55 found 6 clones</h1>
<h2>internal/shared/result/simple_fuzz_test.go:92</h2>
<pre>if len(errorMsg) > 10000 { // Reasonable limit
	t.Logf("Very long error message: %d chars", len(errorMsg))
}</pre>
<h2>test/domain/enum_helper_test.go:26</h2>
<pre>if len(values) != 4 {
	t.Errorf("RiskLevelType.Values() = %d, want 4", len(values))
}</pre>
<h2>test/domain/enum_helper_test.go:65</h2>
<pre>if len(values) != 4 {
	t.Errorf("ValidationLevelType.Values() = %d, want 4", len(values))
}</pre>
<h2>test/domain/enum_helper_test.go:88</h2>
<pre>if len(values) != 3 {
	t.Errorf("ChangeOperationType.Values() = %d, want 3", len(values))
}</pre>
<h2>test/domain/enum_helper_test.go:111</h2>
<pre>if len(values) != 3 {
	t.Errorf("CleanStrategyType.Values() = %d, want 3", len(values))
}</pre>
<h2>test/domain/enum_helper_test.go:134</h2>
<pre>if len(values) != 4 {
	t.Errorf("ScanTypeType.Values() = %d, want 4", len(values))
}</pre>
<h1>#56 found 3 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:241</h2>
<pre>case "value":
	if v, ok := value.(string); ok {
		e.Details.Value = v
	} else {
		e.Details.Value = fmt.Sprintf("%v", value)
	}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:247</h2>
<pre>case "expected":
	if v, ok := value.(string); ok {
		e.Details.Expected = v
	} else {
		e.Details.Expected = fmt.Sprintf("%v", value)
	}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:253</h2>
<pre>case "actual":
	if v, ok := value.(string); ok {
		e.Details.Actual = v
	} else {
		e.Details.Actual = fmt.Sprintf("%v", value)
	}</pre>
<h1>#57 found 4 clones</h1>
<h2>test/nix.go:14</h2>
<pre>{ID: 300, Path: "/nix/var/nix/profiles/default-300-link", Date: now.Add(-24 * time.Hour), Status: shared.SelectedStatusSelected},
{ID: 299, Path: "/nix/var/nix/profiles/default-299-link", Date: now.Add(-48 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:15</h2>
<pre>{ID: 299, Path: "/nix/var/nix/profiles/default-299-link", Date: now.Add(-48 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 298, Path: "/nix/var/nix/profiles/default-298-link", Date: now.Add(-72 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:16</h2>
<pre>{ID: 298, Path: "/nix/var/nix/profiles/default-298-link", Date: now.Add(-72 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 297, Path: "/nix/var/nix/profiles/default-297-link", Date: now.Add(-96 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:17</h2>
<pre>{ID: 297, Path: "/nix/var/nix/profiles/default-297-link", Date: now.Add(-96 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 296, Path: "/nix/var/nix/profiles/default-296-link", Date: now.Add(-120 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h1>#58 found 5 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:136</h2>
<pre>if e.Details.Field != "" {
	details = append(details, fmt.Sprintf("field=%s", e.Details.Field))
}
if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:139</h2>
<pre>if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:142</h2>
<pre>if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:145</h2>
<pre>if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:148</h2>
<pre>if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}
if e.Details.Duration != "" {
	details = append(details, fmt.Sprintf("duration=%s", e.Details.Duration))
}</pre>
<h1>#59 found 3 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:229</h2>
<pre>                      {
	return result.Ok(shared.CleanResult{
		FreedBytes:   0,
		ItemsRemoved: 0,
		ItemsFailed:  0,
		CleanTime:    0,
		CleanedAt:    time.Now(),
		Strategy:     shared.StrategyConservative,
	})
}</pre>
<h2>internal/infrastructure/cleaners/nix.go:114</h2>
<pre>                        {
	// Return graceful degradation result
	return result.Ok(shared.CleanResult{
		FreedBytes:   0,
		ItemsRemoved: 0,
		ItemsFailed:  0,
		CleanTime:    0,
		CleanedAt:    time.Now(),
		Strategy:     shared.StrategyConservative,
	})
}</pre>
<h2>internal/infrastructure/cleaners/nix.go:133</h2>
<pre>                                 {
	// Nothing to remove
	return result.Ok(shared.CleanResult{
		FreedBytes:   0,
		ItemsRemoved: 0,
		ItemsFailed:  0,
		CleanTime:    0,
		CleanedAt:    time.Now(),
		Strategy:     shared.StrategyConservative,
	})
}</pre>
<h1>#60 found 2 clones</h1>
<h2>test/config/safe_test.go:256</h2>
<pre>if len(config.profiles) == 0 {
	t.Error("expected at least one profile")
	return
}</pre>
<h2>test/config/semver_validation_test.go:52</h2>
<pre>if len(result.Errors) == 0 {
	t.Error("Expected validation errors, got none")
	return
}</pre>
<h1>#61 found 2 clones</h1>
<h2>test/validation/duration_parser_test.go:310</h2>
<pre>{
	name:     "Exact 7 days",
	input:    7 * 24 * time.Hour,
	expected: "7d",
}</pre>
<h2>test/validation/duration_parser_test.go:315</h2>
<pre>{
	name:     "Exact 30 days",
	input:    30 * 24 * time.Hour,
	expected: "30d",
}</pre>
<h1>#62 found 4 clones</h1>
<h2>internal/infrastructure/system/environment.go:166</h2>
<pre>if cfg.MaxNixGenerations < MinNixGenerations || cfg.MaxNixGenerations > MaxNixGenerations {
	return ErrInvalidConfig("max_nix_generations must be between %d and %d", MinNixGenerations, MaxNixGenerations)
}</pre>
<h2>internal/infrastructure/system/environment.go:170</h2>
<pre>if cfg.MaxDiskUsagePercent < MinMaxDiskUsagePercent || cfg.MaxDiskUsagePercent > MaxMaxDiskUsagePercent {
	return ErrInvalidConfig("max_disk_usage_percent must be between %d and %d", MinMaxDiskUsagePercent, MaxMaxDiskUsagePercent)
}</pre>
<h2>internal/infrastructure/system/environment.go:175</h2>
<pre>if cfg.MinDiskUsagePercent < MinDiskUsagePercent || cfg.MinDiskUsagePercent > MaxDiskUsagePercent {
	return ErrInvalidConfig("min_disk_usage_percent must be between %d and %d", MinDiskUsagePercent, MaxDiskUsagePercent)
}</pre>
<h2>internal/infrastructure/system/environment.go:186</h2>
<pre>if cfg.RoundingIncrement < MinRoundingIncrement || cfg.RoundingIncrement > MaxRoundingIncrement {
	return ErrInvalidConfig("rounding_increment must be between %d and %d", MinRoundingIncrement, MaxRoundingIncrement)
}</pre>
<h1>#63 found 4 clones</h1>
<h2>internal/infrastructure/system/errors.go:21</h2>
<pre>func ErrNotFound(resource string) error {
	return fmt.Errorf("resource not found: %s", resource)
}

// ErrTimeout creates a timeout error
func ErrTimeout(operation string) error {
	return fmt.Errorf("operation timeout: %s", operation)
}

// ErrRateLimit creates a rate limit error
func ErrRateLimit(limit float64) error {
	return fmt.Errorf("rate limit exceeded: %.2f requests/second", limit)
}</pre>
<h2>internal/infrastructure/system/errors.go:26</h2>
<pre>func ErrTimeout(operation string) error {
	return fmt.Errorf("operation timeout: %s", operation)
}

// ErrRateLimit creates a rate limit error
func ErrRateLimit(limit float64) error {
	return fmt.Errorf("rate limit exceeded: %.2f requests/second", limit)
}

// ErrCacheMiss creates a cache miss error
func ErrCacheMiss(key string) error {
	return fmt.Errorf("cache miss: key '%s' not found", key)
}</pre>
<h2>internal/infrastructure/system/errors.go:46</h2>
<pre>func ErrNotImplemented(feature string) error {
	return fmt.Errorf("feature not implemented: %s", feature)
}

// ErrUnauthorized creates an unauthorized error
func ErrUnauthorized(operation string) error {
	return fmt.Errorf("unauthorized: %s", operation)
}

// ErrForbidden creates a forbidden error
func ErrForbidden(operation string) error {
	return fmt.Errorf("forbidden: %s", operation)
}</pre>
<h2>internal/infrastructure/system/errors.go:51</h2>
<pre>func ErrUnauthorized(operation string) error {
	return fmt.Errorf("unauthorized: %s", operation)
}

// ErrForbidden creates a forbidden error
func ErrForbidden(operation string) error {
	return fmt.Errorf("forbidden: %s", operation)
}

// ErrServiceUnavailable creates a service unavailable error
func ErrServiceUnavailable(service string) error {
	return fmt.Errorf("service unavailable: %s", service)
}</pre>
<h1>#64 found 2 clones</h1>
<h2>internal/shared/errors/types.go:157</h2>
<pre>func (e *CleanWizardError) WithDetails(details any) *CleanWizardError {
	e.Details = details
	return e
}

// WithCause adds underlying cause to error
func (e *CleanWizardError) WithCause(cause error) *CleanWizardError {
	e.Cause = cause
	return e
}</pre>
<h2>internal/shared/errors/types.go:163</h2>
<pre>func (e *CleanWizardError) WithCause(cause error) *CleanWizardError {
	e.Cause = cause
	return e
}

// WithSeverity sets error severity
func (e *CleanWizardError) WithSeverity(severity ErrorSeverity) *CleanWizardError {
	e.Severity = severity
	return e
}</pre>
<h1>#65 found 4 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:83</h2>
<pre>if !hc.IsAvailable(ctx) {
	return result.Err[shared.CleanResult](fmt.Errorf("homebrew is not available"))
}</pre>
<h2>internal/infrastructure/cleaners/npm.go:86</h2>
<pre>if !nc.IsAvailable(ctx) {
	return result.Err[shared.CleanResult](fmt.Errorf("npm is not available"))
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:79</h2>
<pre>if !pc.IsAvailable(ctx) {
	return result.Err[shared.CleanResult](fmt.Errorf("pnpm is not available"))
}</pre>
<h2>internal/infrastructure/cleaners/temp_files.go:75</h2>
<pre>if !tfc.IsAvailable(ctx) {
	return result.Err[shared.CleanResult](fmt.Errorf("temp file cleaner is not available"))
}</pre>
<h1>#66 found 2 clones</h1>
<h2>internal/application/config/config.go:288</h2>
<pre>func parseSafetyLevel(level string) shared.SafetyLevelType {
	switch level {
	case "enabled":
		return shared.SafetyLevelEnabled
	case "disabled":
		return shared.SafetyLevelDisabled
	default:
		return shared.SafetyLevelEnabled
	}
}</pre>
<h2>internal/application/config/config.go:299</h2>
<pre>func parseStatus(status string) shared.StatusType {
	switch status {
	case "enabled":
		return shared.StatusEnabled
	case "disabled":
		return shared.StatusDisabled
	default:
		return shared.StatusEnabled
	}
}</pre>
<h1>#67 found 3 clones</h1>
<h2>internal/interface/api/mapper_test.go:181</h2>
<pre>if operation.RiskLevel != PublicRiskMedium {
	t.Errorf("Expected operation risk level %v, got %v", PublicRiskMedium, operation.RiskLevel)
}</pre>
<h2>internal/interface/api/mapper_test.go:225</h2>
<pre>if publicResult.Strategy != PublicStrategyAggressive {
	t.Errorf("Expected strategy %s, got %s", PublicStrategyAggressive, publicResult.Strategy)
}</pre>
<h2>internal/interface/api/mapper_test.go:722</h2>
<pre>       if result.RiskLevel != expectedRiskLevel {
	t.Errorf("Expected risk level '%v', got '%v'", expectedRiskLevel, result.RiskLevel)
}</pre>
<h1>#68 found 2 clones</h1>
<h2>test/validation/validation_validator_test.go:53</h2>
<pre>{
	name:        "invalid max disk usage",
	config:      factories.CreateValidationTestConfig("1.0.0", 150, []string{"/System", "/usr", "/etc", "/var", "/bin", "/sbin"}), // Invalid: > 95
	expectValid: false,
	expectError: "max_disk_usage",
}</pre>
<h2>test/validation/validation_validator_test.go:59</h2>
<pre>{
	name:        "missing version",
	config:      factories.CreateValidationTestConfig("", 50, []string{"/System", "/usr", "/etc", "/var", "/bin", "/sbin"}),
	expectValid: false,
	expectError: "version",
}</pre>
<h1>#69 found 3 clones</h1>
<h2>internal/interface/api/mapper_test.go:690</h2>
<pre>if result.Settings.NixGenerations.Generations != expectedNix.Generations {
	t.Errorf("Expected NixGenerations.Generations %d, got %d", expectedNix.Generations, result.Settings.NixGenerations.Generations)
}</pre>
<h2>internal/interface/api/mapper_test.go:693</h2>
<pre>if result.Settings.NixGenerations.Optimization != expectedNix.Optimization {
	t.Errorf("Expected NixGenerations.Optimization %v, got %v", expectedNix.Optimization, result.Settings.NixGenerations.Optimization)
}</pre>
<h2>internal/interface/api/mapper_test.go:702</h2>
<pre>if result.Settings.TempFiles.OlderThan != expectedTemp.OlderThan {
	t.Errorf("Expected TempFiles.OlderThan %s, got %s", expectedTemp.OlderThan, result.Settings.TempFiles.OlderThan)
}</pre>
<h1>#70 found 7 clones</h1>
<h2>internal/infrastructure/system/errors.go:21</h2>
<pre>func ErrNotFound(resource string) error {
	return fmt.Errorf("resource not found: %s", resource)
}

// ErrTimeout creates a timeout error
func ErrTimeout(operation string) error {
	return fmt.Errorf("operation timeout: %s", operation)
}</pre>
<h2>internal/infrastructure/system/errors.go:26</h2>
<pre>func ErrTimeout(operation string) error {
	return fmt.Errorf("operation timeout: %s", operation)
}

// ErrRateLimit creates a rate limit error
func ErrRateLimit(limit float64) error {
	return fmt.Errorf("rate limit exceeded: %.2f requests/second", limit)
}</pre>
<h2>internal/infrastructure/system/errors.go:31</h2>
<pre>func ErrRateLimit(limit float64) error {
	return fmt.Errorf("rate limit exceeded: %.2f requests/second", limit)
}

// ErrCacheMiss creates a cache miss error
func ErrCacheMiss(key string) error {
	return fmt.Errorf("cache miss: key '%s' not found", key)
}</pre>
<h2>internal/infrastructure/system/errors.go:46</h2>
<pre>func ErrNotImplemented(feature string) error {
	return fmt.Errorf("feature not implemented: %s", feature)
}

// ErrUnauthorized creates an unauthorized error
func ErrUnauthorized(operation string) error {
	return fmt.Errorf("unauthorized: %s", operation)
}</pre>
<h2>internal/infrastructure/system/errors.go:51</h2>
<pre>func ErrUnauthorized(operation string) error {
	return fmt.Errorf("unauthorized: %s", operation)
}

// ErrForbidden creates a forbidden error
func ErrForbidden(operation string) error {
	return fmt.Errorf("forbidden: %s", operation)
}</pre>
<h2>internal/infrastructure/system/errors.go:56</h2>
<pre>func ErrForbidden(operation string) error {
	return fmt.Errorf("forbidden: %s", operation)
}

// ErrServiceUnavailable creates a service unavailable error
func ErrServiceUnavailable(service string) error {
	return fmt.Errorf("service unavailable: %s", service)
}</pre>
<h2>internal/shared/errors/errors.go:13</h2>
<pre>func ConfigSaveError(err error) error {
	return fmt.Errorf("config save error: %w", err)
}

// ConfigValidateError creates a configuration validation error
func ConfigValidateError(message string) error {
	return fmt.Errorf("config validation error: %s", message)
}</pre>
<h1>#71 found 3 clones</h1>
<h2>internal/application/config/type_safe_validation_rules.go:64</h2>
<pre>MinProtectedPaths: &NumericValidationRule{
	Required: true,
	Min:      &minPaths,
	Message:  "At least one protected path is required",
}</pre>
<h2>internal/application/config/type_safe_validation_rules.go:69</h2>
<pre>MaxProfiles: &NumericValidationRule{
	Required: false,
	Max:      &maxProfiles,
	Message:  "Consider limiting profiles to maintain clarity",
}</pre>
<h2>internal/application/config/type_safe_validation_rules.go:74</h2>
<pre>MaxOperations: &NumericValidationRule{
	Required: false,
	Max:      &maxOps,
	Message:  "Consider limiting operations per profile for better maintainability",
}</pre>
<h1>#72 found 4 clones</h1>
<h2>internal/application/config/safe_test.go:203</h2>
<pre>{
	name: "build valid profile",
	builderFunc: func() *SafeProfileBuilder {
		return NewSafeConfigBuilder().
			AddProfile("test", "test profile").
			AddOperation(CleanTypeNixStore, shared.RiskLow)
	},
	expectError: false,
}</pre>
<h2>internal/application/config/safe_test.go:221</h2>
<pre>{
	name: "build profile with high risk (valid)",
	builderFunc: func() *SafeProfileBuilder {
		return NewSafeConfigBuilder().
			AddProfile("test", "test profile").
			AddOperation(CleanTypeNixStore, shared.RiskHigh)
	},
	expectError: false,
}</pre>
<h2>test/config/safe_test.go:202</h2>
<pre>{
	name: "build valid profile",
	builderFunc: func() *SafeProfileBuilder {
		return NewSafeConfigBuilder().
			AddProfile("test", "test profile").
			AddOperation(CleanTypeNixStore, shared.RiskLow)
	},
	expectError: false,
}</pre>
<h2>test/config/safe_test.go:220</h2>
<pre>{
	name: "build profile with high risk (valid)",
	builderFunc: func() *SafeProfileBuilder {
		return NewSafeConfigBuilder().
			AddProfile("test", "test profile").
			AddOperation(CleanTypeNixStore, shared.RiskHigh)
	},
	expectError: false,
}</pre>
<h1>#73 found 3 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:20</h2>
<pre>MaxDiskUsage: &NumericValidationRule{
	Required: true,
	Min:      intPtr(10),
	Max:      intPtr(95),
	Message:  "invalid disk usage",
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:26</h2>
<pre>MinProtectedPaths: &NumericValidationRule{
	Required: false,
	Min:      intPtr(1),
	Max:      intPtr(50),
	Message:  "insufficient protected paths",
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:32</h2>
<pre>MaxProfiles: &NumericValidationRule{
	Required: true,
	Min:      intPtr(1),
	Max:      intPtr(10),
	Message:  "too many profiles",
}</pre>
<h1>#74 found 2 clones</h1>
<h2>internal/shared/errors/centralized.go:204</h2>
<pre>func (eb *ErrorBuilder) WithDetails(details any) *ErrorBuilder {
	eb.cwErr.Details = details
	return eb
}

// WithCause adds underlying cause to the error
func (eb *ErrorBuilder) WithCause(cause error) *ErrorBuilder {
	eb.cwErr.Cause = cause
	return eb
}</pre>
<h2>internal/shared/errors/centralized.go:210</h2>
<pre>func (eb *ErrorBuilder) WithCause(cause error) *ErrorBuilder {
	eb.cwErr.Cause = cause
	return eb
}

// WithSeverity sets error severity
func (eb *ErrorBuilder) WithSeverity(severity ErrorSeverity) *ErrorBuilder {
	eb.cwErr.Severity = severity
	return eb
}</pre>
<h1>#75 found 5 clones</h1>
<h2>internal/domain/shared/types.go:163</h2>
<pre>if g.ID <= 0 {
	return fmt.Errorf("Generation ID must be positive, got: %d", g.ID)
}</pre>
<h2>internal/domain/shared/types.go:198</h2>
<pre>if sr.Limit < 0 {
	return fmt.Errorf("Limit cannot be negative, got: %d", sr.Limit)
}</pre>
<h2>internal/domain/shared/types.go:245</h2>
<pre>if sr.TotalBytes < 0 {
	return fmt.Errorf("TotalBytes cannot be negative, got: %d", sr.TotalBytes)
}</pre>
<h2>internal/domain/shared/types.go:248</h2>
<pre>if sr.TotalItems < 0 {
	return fmt.Errorf("TotalItems cannot be negative, got: %d", sr.TotalItems)
}</pre>
<h2>internal/domain/shared/types.go:251</h2>
<pre>if sr.ScanTime < 0 {
	return fmt.Errorf("ScanTime cannot be negative, got: %d", sr.ScanTime)
}</pre>
<h1>#76 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/nix.go:64</h2>
<pre>func (nc *NixCleaner) ListGenerations(ctx context.Context) result.Result[[]shared.NixGeneration]</pre>
<h2>internal/infrastructure/system/nix.go:37</h2>
<pre>func (n *NixAdapter) ListGenerations(ctx context.Context) result.Result[[]shared.NixGeneration]</pre>
<h1>#77 found 2 clones</h1>
<h2>internal/shared/errors/centralized.go:109</h2>
<pre>func DomainErrorf(code ErrorCode, format string, args ...any) *CleanWizardError</pre>
<h2>internal/shared/errors/types.go:186</h2>
<pre>func NewErrorf(code ErrorCode, format string, args ...any) *CleanWizardError</pre>
<h1>#78 found 6 clones</h1>
<h2>internal/application/config/safe_test.go:37</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := tt.level.String()
		if result != tt.expected {
			t.Errorf("String() = %v, want %v", result, tt.expected)
		}
	})
}</pre>
<h2>internal/application/config/safe_test.go:87</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := tt.level.IsValid()
		if result != tt.expected {
			t.Errorf("IsValid() = %v, want %v", result, tt.expected)
		}
	})
}</pre>
<h2>internal/application/config/safe_test.go:111</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := tt.cleanType.IsValid()
		if result != tt.expected {
			t.Errorf("IsValid() = %v, want %v", result, tt.expected)
		}
	})
}</pre>
<h2>test/config/safe_test.go:36</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := tt.level.String()
		if result != tt.expected {
			t.Errorf("String() = %v, want %v", result, tt.expected)
		}
	})
}</pre>
<h2>test/config/safe_test.go:86</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := tt.level.IsValid()
		if result != tt.expected {
			t.Errorf("IsValid() = %v, want %v", result, tt.expected)
		}
	})
}</pre>
<h2>test/config/safe_test.go:110</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := tt.cleanType.IsValid()
		if result != tt.expected {
			t.Errorf("IsValid() = %v, want %v", result, tt.expected)
		}
	})
}</pre>
<h1>#79 found 3 clones</h1>
<h2>internal/domain/shared/types.go:195</h2>
<pre>if !sr.Type.IsValid() {
	return fmt.Errorf("Invalid scan type: %s", sr.Type)
}</pre>
<h2>internal/domain/shared/types.go:220</h2>
<pre>if !cr.Strategy.IsValid() {
	return fmt.Errorf("Invalid strategy: %s (must be 'aggressive', 'conservative', or 'dry-run')", cr.Strategy)
}</pre>
<h2>internal/domain/shared/types.go:297</h2>
<pre>if !cr.Strategy.IsValid() {
	return fmt.Errorf("Invalid strategy: %s (must be 'aggressive', 'conservative', or 'dry-run')", cr.Strategy)
}</pre>
<h1>#80 found 2 clones</h1>
<h2>internal/shared/errors/centralized.go:46</h2>
<pre>if err, ok := r.(error); ok {
	cause = err
} else {
	cause = NewErrorf(ErrCodeProcessFailed, "panic recovered: %v", r)
}</pre>
<h2>internal/shared/errors/errors_test.go:233</h2>
<pre>if err, ok := r.(error); ok {
	cause = err
} else {
	cause = NewErrorf(ErrCodeProcessFailed, "panic recovered: %v", r)
}</pre>
<h1>#81 found 2 clones</h1>
<h2>test/config/safety_level_test.go:118</h2>
<pre>{
	name: "legacy safe_mode true",
	setup: func(v *viper.Viper) {
		v.Set("safe_mode", true)
	},
	expected:         shared.SafetyLevelEnabled,
	expectedExplicit: true,
}</pre>
<h2>test/config/safety_level_test.go:126</h2>
<pre>{
	name: "legacy safe_mode false",
	setup: func(v *viper.Viper) {
		v.Set("safe_mode", false)
	},
	expected:         shared.SafetyLevelDisabled,
	expectedExplicit: true,
}</pre>
<h1>#82 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/temp_files.go:30</h2>
<pre>func (tfc *TempFileCleaner) IsAvailable(ctx context.Context) bool {
	// Temp file cleaner is always available - no external dependencies
	return true
}</pre>
<h2>internal/shared/utils/middleware/validation_test.go:88</h2>
<pre>func (m *mockCleaner) IsAvailable(ctx context.Context) bool {
	return true
}</pre>
<h1>#83 found 5 clones</h1>
<h2>internal/shared/utils/format/format_test.go:25</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := Size(tt.bytes)
		if result != tt.expected {
			t.Errorf("Size(%d) = %v, want %v", tt.bytes, result, tt.expected)
		}
	})
}</pre>
<h2>internal/shared/utils/format/format_test.go:50</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := Duration(tt.duration)
		if result != tt.expected {
			t.Errorf("Duration(%v) = %v, want %v", tt.duration, result, tt.expected)
		}
	})
}</pre>
<h2>internal/shared/utils/format/format_test.go:71</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := Date(tt.t)
		if result != tt.expected {
			t.Errorf("Date(%v) = %v, want %v", tt.t, result, tt.expected)
		}
	})
}</pre>
<h2>internal/shared/utils/format/format_test.go:128</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := Number(tt.n)
		if result != tt.expected {
			t.Errorf("Number(%d) = %v, want %v", tt.n, result, tt.expected)
		}
	})
}</pre>
<h2>test/config/semver_validation_test.go:34</h2>
<pre>for _, tt := range tests {
	t.Run(tt.name, func(t *testing.T) {
		result := isValidSemver(tt.version)
		if result != tt.expected {
			t.Errorf("isValidSemver(%q) = %v, want %v", tt.version, result, tt.expected)
		}
	})
}</pre>
<h1>#84 found 3 clones</h1>
<h2>internal/interface/api/mapper_test.go:83</h2>
<pre>if len(profile.Operations) != 1 {
	t.Fatalf("Expected 1 operation, got %d", len(profile.Operations))
}</pre>
<h2>internal/interface/api/mapper_test.go:176</h2>
<pre>if len(profile.Operations) != 1 {
	t.Fatalf("Expected 1 operation in profile 'test', got %d", len(profile.Operations))
}</pre>
<h2>internal/interface/api/mapper_test.go:283</h2>
<pre>if len(domainRequest.Items) != 2 {
	t.Errorf("Expected 2 items, got %d", len(domainRequest.Items))
}</pre>
<h1>#85 found 2 clones</h1>
<h2>internal/infrastructure/system/http_client.go:97</h2>
<pre>func (hc *HTTPClient) Get(ctx context.Context, url string) (*HTTPResponse, error) {
	return hc.doRequest(ctx, "GET", url, nil)
}</pre>
<h2>internal/infrastructure/system/http_client.go:112</h2>
<pre>func (hc *HTTPClient) Delete(ctx context.Context, url string) (*HTTPResponse, error) {
	return hc.doRequest(ctx, "DELETE", url, nil)
}</pre>
<h1>#86 found 4 clones</h1>
<h2>internal/domain/shared/types.go:54</h2>
<pre>func (g GenerationCount) Uint() uint {
	return uint(g)
}

// IsZero checks if the generation count is zero
func (g GenerationCount) IsZero() bool {
	return g.Uint() == 0
}</pre>
<h2>internal/domain/shared/types.go:78</h2>
<pre>func (d DiskUsageBytes) Uint64() uint64 {
	return uint64(d)
}

// IsZero checks if disk usage is zero
func (d DiskUsageBytes) IsZero() bool {
	return d.Uint64() == 0
}</pre>
<h2>internal/domain/shared/types.go:99</h2>
<pre>func (m MaxDiskUsage) Uint8() uint8 {
	return uint8(m)
}

// IsValid checks if the percentage is within valid range
func (m MaxDiskUsage) IsValid() bool {
	return m.Uint8() <= 100
}</pre>
<h2>internal/domain/shared/types.go:124</h2>
<pre>func (p ProfileName) String() string {
	return string(p)
}

// IsEmpty checks if profile name is empty
func (p ProfileName) IsEmpty() bool {
	return p.String() == ""
}</pre>
<h1>#87 found 7 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:136</h2>
<pre>if e.Details.Field != "" {
	details = append(details, fmt.Sprintf("field=%s", e.Details.Field))
}
if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:139</h2>
<pre>if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:142</h2>
<pre>if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:145</h2>
<pre>if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:148</h2>
<pre>if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:151</h2>
<pre>if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:154</h2>
<pre>if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}
if e.Details.Duration != "" {
	details = append(details, fmt.Sprintf("duration=%s", e.Details.Duration))
}</pre>
<h1>#88 found 3 clones</h1>
<h2>internal/interface/api/mapper_test.go:68</h2>
<pre>if domainConfig.MaxDiskUsage != int(publicConfig.MaxDiskUsage) {
	t.Errorf("Expected maxDiskUsage %d, got %d", publicConfig.MaxDiskUsage, domainConfig.MaxDiskUsage)
}</pre>
<h2>internal/interface/api/mapper_test.go:166</h2>
<pre>if publicConfig.MaxDiskUsage != int32(domainConfig.MaxDiskUsage) {
	t.Errorf("Expected maxDiskUsage %d, got %d", domainConfig.MaxDiskUsage, publicConfig.MaxDiskUsage)
}</pre>
<h2>internal/interface/api/mapper_test.go:221</h2>
<pre>if publicResult.ItemsRemoved != uint32(domainResult.ItemsRemoved) {
	t.Errorf("Expected itemsRemoved %d, got %d", domainResult.ItemsRemoved, publicResult.ItemsRemoved)
}</pre>
<h1>#89 found 2 clones</h1>
<h2>internal/shared/utils/middleware/validation.go:34</h2>
<pre>func (vm *ValidationMiddleware) ValidateScanRequest(ctx context.Context, req shared.ScanRequest) result.Result[shared.ScanRequest] {
	return validateRequest(req, "scan")
}</pre>
<h2>internal/shared/utils/middleware/validation.go:39</h2>
<pre>func (vm *ValidationMiddleware) ValidateCleanRequest(ctx context.Context, req shared.CleanRequest) result.Result[shared.CleanRequest] {
	return validateRequest(req, "clean")
}</pre>
<h1>#90 found 2 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:83</h2>
<pre>if len(copied.ProtectedSystemPaths) > 0 {
	copied.ProtectedSystemPaths[0] = "MODIFIED"
	copied.ProtectedSystemPaths = append(copied.ProtectedSystemPaths, "NEW_PATH")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:87</h2>
<pre>if len(copied.DefaultProtectedPaths) > 0 {
	copied.DefaultProtectedPaths[0] = "MODIFIED_TOO"
	copied.DefaultProtectedPaths = append(copied.DefaultProtectedPaths, "ANOTHER_NEW_PATH")
}</pre>
<h1>#91 found 5 clones</h1>
<h2>internal/infrastructure/system/nix.go:108</h2>
<pre>if err != nil {
	return result.Err[shared.CleanResult](fmt.Errorf("failed to get pre-gc store size: %w", err))
}</pre>
<h2>internal/infrastructure/system/nix.go:115</h2>
<pre>if err != nil {
	return result.Err[shared.CleanResult](fmt.Errorf("failed to collect garbage: %w", err))
}</pre>
<h2>internal/infrastructure/system/nix.go:121</h2>
<pre>if err != nil {
	return result.Err[shared.CleanResult](fmt.Errorf("failed to get post-gc store size: %w", err))
}</pre>
<h2>internal/infrastructure/system/nix.go:164</h2>
<pre>if err != nil {
	return result.Err[shared.CleanResult](fmt.Errorf("failed to get pre-remove store size: %w", err))
}</pre>
<h2>internal/infrastructure/system/nix.go:177</h2>
<pre>if err != nil {
	return result.Err[shared.CleanResult](fmt.Errorf("failed to get post-remove store size: %w", err))
}</pre>
<h1>#92 found 2 clones</h1>
<h2>internal/infrastructure/system/nix.go:130</h2>
<pre>cleanResult := shared.CleanResult{
	FreedBytes:   uint64(bytesFreed),
	ItemsRemoved: 1,
	ItemsFailed:  0,
	CleanTime:    time.Since(startTime),
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyAggressive,
}</pre>
<h2>internal/infrastructure/system/nix.go:186</h2>
<pre>cleanResult := shared.CleanResult{
	FreedBytes:   uint64(bytesFreed),
	ItemsRemoved: 1,
	ItemsFailed:  0,
	CleanTime:    time.Since(startTime),
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyConservative,
}</pre>
<h1>#93 found 2 clones</h1>
<h2>internal/infrastructure/system/environment.go:123</h2>
<pre>func GetEnvBool(key string, defaultValue bool) bool {
	if value, exists := os.LookupEnv(key); exists {
		if parsed, err := strconv.ParseBool(value); err == nil {
			return parsed
		}
	}
	return defaultValue
}</pre>
<h2>internal/infrastructure/system/environment.go:133</h2>
<pre>func GetEnvInt(key string, defaultValue int) int {
	if value, exists := os.LookupEnv(key); exists {
		if parsed, err := strconv.Atoi(value); err == nil {
			return parsed
		}
	}
	return defaultValue
}</pre>
<h1>#94 found 2 clones</h1>
<h2>internal/interface/api/mapper_test.go:162</h2>
<pre>if publicConfig.Version != domainConfig.Version {
	t.Errorf("Expected version %s, got %s", domainConfig.Version, publicConfig.Version)
}

if publicConfig.MaxDiskUsage != int32(domainConfig.MaxDiskUsage) {
	t.Errorf("Expected maxDiskUsage %d, got %d", domainConfig.MaxDiskUsage, publicConfig.MaxDiskUsage)
}</pre>
<h2>internal/interface/api/mapper_test.go:217</h2>
<pre>if publicResult.FreedBytes != domainResult.FreedBytes {
	t.Errorf("Expected freedBytes %d, got %d", domainResult.FreedBytes, publicResult.FreedBytes)
}

if publicResult.ItemsRemoved != uint32(domainResult.ItemsRemoved) {
	t.Errorf("Expected itemsRemoved %d, got %d", domainResult.ItemsRemoved, publicResult.ItemsRemoved)
}</pre>
<h1>#95 found 6 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:237</h2>
<pre>case "field":
	if v, ok := value.(string); ok {
		e.Details.Field = v
	}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:259</h2>
<pre>case "operation":
	if v, ok := value.(string); ok {
		e.Details.Operation = v
	}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:263</h2>
<pre>case "file_path":
	if v, ok := value.(string); ok {
		e.Details.FilePath = v
	}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:267</h2>
<pre>case "line_number":
	if v, ok := value.(int); ok {
		e.Details.LineNumber = v
	}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:271</h2>
<pre>case "retry_count":
	if v, ok := value.(int); ok {
		e.Details.RetryCount = v
	}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:290</h2>
<pre>case "file":
	// Handle legacy "file" key, map to file_path
	if v, ok := value.(string); ok {
		e.Details.FilePath = v
	}</pre>
<h1>#96 found 2 clones</h1>
<h2>internal/interface/api/mapper.go:31</h2>
<pre>for name, profile := range domain.Profiles {
	public.Profiles[name] = m.DomainProfileToPublic(profile)
}</pre>
<h2>internal/interface/api/mapper.go:52</h2>
<pre>for i, op := range domain.Operations {
	public.Operations[i] = m.DomainOperationToPublic(op)
}</pre>
<h1>#97 found 5 clones</h1>
<h2>internal/domain/config/config.go:96</h2>
<pre>{
	Name:        "nix-generations",
	Description: "Remove old Nix store generations",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:102</h2>
<pre>{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:108</h2>
<pre>{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:114</h2>
<pre>{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:120</h2>
<pre>{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "docker",
	Description: "Docker system cleanup (containers, images, volumes)",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusDisabled, // Disabled by default for safety
}</pre>
<h1>#98 found 2 clones</h1>
<h2>internal/domain/shared/types.go:46</h2>
<pre>func NewGenerationCount(count uint) (GenerationCount, error) {
	if count > 100 { // TODO: Make this configurable
		return 0, fmt.Errorf("generation count %d exceeds maximum allowed (100)", count)
	}
	return GenerationCount(count), nil
}

// Uint returns the underlying uint value
func (g GenerationCount) Uint() uint {
	return uint(g)
}

// IsZero checks if the generation count is zero
func (g GenerationCount) IsZero() bool {
	return g.Uint() == 0
}</pre>
<h2>internal/domain/shared/types.go:91</h2>
<pre>func NewMaxDiskUsage(percentage uint8) (MaxDiskUsage, error) {
	if percentage > 100 {
		return 0, fmt.Errorf("max disk usage percentage %d exceeds 100", percentage)
	}
	return MaxDiskUsage(percentage), nil
}

// Uint8 returns the underlying uint8 value
func (m MaxDiskUsage) Uint8() uint8 {
	return uint8(m)
}

// IsValid checks if the percentage is within valid range
func (m MaxDiskUsage) IsValid() bool {
	return m.Uint8() <= 100
}</pre>
<h1>#99 found 3 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:127</h2>
<pre>if original.MaxDiskUsage != nil && copied.MaxDiskUsage != nil {
	if original.MaxDiskUsage.Required == copied.MaxDiskUsage.Required {
		t.Error("FAILED: modified copied.MaxDiskUsage.Required affected original")
	}
	if *original.MaxDiskUsage.Min == *copied.MaxDiskUsage.Min {
		t.Error("FAILED: modified copied.MaxDiskUsage.Min affected original")
	}
	if *original.MaxDiskUsage.Max == *copied.MaxDiskUsage.Max {
		t.Error("FAILED: modified copied.MaxDiskUsage.Max affected original")
	}
	if original.MaxDiskUsage.Message == copied.MaxDiskUsage.Message {
		t.Error("FAILED: modified copied.MaxDiskUsage.Message affected original")
	}
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:142</h2>
<pre>if original.MinProtectedPaths != nil && copied.MinProtectedPaths != nil {
	if original.MinProtectedPaths.Required == copied.MinProtectedPaths.Required {
		t.Error("FAILED: modified copied.MinProtectedPaths.Required affected original")
	}
	if *original.MinProtectedPaths.Min == *copied.MinProtectedPaths.Min {
		t.Error("FAILED: modified copied.MinProtectedPaths.Min affected original")
	}
	if *original.MinProtectedPaths.Max == *copied.MinProtectedPaths.Max {
		t.Error("FAILED: modified copied.MinProtectedPaths.Max affected original")
	}
	if original.MinProtectedPaths.Message == copied.MinProtectedPaths.Message {
		t.Error("FAILED: modified copied.MinProtectedPaths.Message affected original")
	}
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:157</h2>
<pre>if original.MaxProfiles != nil && copied.MaxProfiles != nil {
	if original.MaxProfiles.Required == copied.MaxProfiles.Required {
		t.Error("FAILED: modified copied.MaxProfiles.Required affected original")
	}
	if *original.MaxProfiles.Min == *copied.MaxProfiles.Min {
		t.Error("FAILED: modified copied.MaxProfiles.Min affected original")
	}
	if *original.MaxProfiles.Max == *copied.MaxProfiles.Max {
		t.Error("FAILED: modified copied.MaxProfiles.Max affected original")
	}
	if original.MaxProfiles.Message == copied.MaxProfiles.Message {
		t.Error("FAILED: modified copied.MaxProfiles.Message affected original")
	}
}</pre>
<h1>#100 found 3 clones</h1>
<h2>test/config/bdd_nix_validation_test.go:111</h2>
<pre>func withGenerations(t *testing.T, cfg *shared.Config, generations int) *shared.Config</pre>
<h2>test/config/bdd_nix_validation_test.go:147</h2>
<pre>func withOptimize(t *testing.T, cfg *shared.Config, optimize bool) *shared.Config</pre>
<h2>test/config/bdd_nix_validation_test.go:164</h2>
<pre>func withEnabled(t *testing.T, cfg *shared.Config, enabled bool) *shared.Config</pre>
<h1>#101 found 4 clones</h1>
<h2>internal/application/config/safe_test.go:122</h2>
<pre>         []struct {
	name        string
	builderFunc func() *SafeConfigBuilder
	expectError bool
	errorMsg    string
}</pre>
<h2>internal/application/config/safe_test.go:197</h2>
<pre>         []struct {
	name        string
	builderFunc func() *SafeProfileBuilder
	expectError bool
	errorMsg    string
}</pre>
<h2>test/config/safe_test.go:121</h2>
<pre>         []struct {
	name        string
	builderFunc func() *SafeConfigBuilder
	expectError bool
	errorMsg    string
}</pre>
<h2>test/config/safe_test.go:196</h2>
<pre>         []struct {
	name        string
	builderFunc func() *SafeProfileBuilder
	expectError bool
	errorMsg    string
}</pre>
<h1>#102 found 2 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:173</h2>
<pre>if copied.ProfileNamePattern != nil {
	copied.ProfileNamePattern.Required = !original.ProfileNamePattern.Required
	copied.ProfileNamePattern.Pattern = "MODIFIED_PATTERN"
	copied.ProfileNamePattern.Message = "MODIFIED STRING MESSAGE"
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:178</h2>
<pre>if copied.PathPattern != nil {
	copied.PathPattern.Required = !original.PathPattern.Required
	copied.PathPattern.Pattern = "ANOTHER_MODIFIED_PATTERN"
	copied.PathPattern.Message = "ANOTHER MESSAGE MODIFIED"
}</pre>
<h1>#103 found 2 clones</h1>
<h2>internal/shared/errors/adapters.go:153</h2>
<pre>networkIndicators := []string{
	"connection", "timeout", "network", "dns", "host", "dial",
	"refused", "unreachable", "network unreachable", "connection refused",
}</pre>
<h2>test/validation/validation_benchmark_test.go:28</h2>
<pre>profileNames := []string{
	"daily-cleanup",
	"weekly_maintenance",
	"monthly-deep-clean",
	"system-optimization",
	"cache-cleanup",
	"log-rotation",
	"temp-cleanup",
	"backup-cleanup",
	"security-scan",
	"performance-optimization",
}</pre>
<h1>#104 found 5 clones</h1>
<h2>internal/shared/errors/centralized.go:73</h2>
<pre>if networkErr := networkAdapter.Adapt(err, "network operation"); networkErr != nil {
	return networkErr
}</pre>
<h2>internal/shared/errors/centralized.go:78</h2>
<pre>if configErr := configAdapter.Adapt(err, "configuration"); configErr != nil {
	return configErr
}</pre>
<h2>internal/shared/errors/centralized.go:83</h2>
<pre>if validationErr := validationAdapter.Adapt(err, "field"); validationErr != nil {
	return validationErr
}</pre>
<h2>internal/shared/errors/centralized.go:88</h2>
<pre>if externalToolErr := externalToolAdapter.Adapt(err, "external tool"); externalToolErr != nil {
	return externalToolErr
}</pre>
<h2>internal/shared/errors/centralized.go:93</h2>
<pre>if systemErr := systemAdapter.Adapt(err, "system component"); systemErr != nil {
	return systemErr
}</pre>
<h1>#105 found 2 clones</h1>
<h2>internal/infrastructure/system/nix.go:17</h2>
<pre>type NixAdapter struct {
	timeout time.Duration
	retries int
	dryRun  bool
}</pre>
<h2>internal/infrastructure/system/rate_limiter.go:39</h2>
<pre>type RateLimitStats struct {
	Limit  rate.Limit `json:"limit"`
	Burst  int        `json:"burst"`
	Tokens float64    `json:"tokens"`
}</pre>
<h1>#106 found 4 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:407</h2>
<pre>case LevelInfo:
	buildEvent(log.Info()).Msg(e.Message)</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:409</h2>
<pre>case LevelWarn:
	buildEvent(log.Warn()).Msg(e.Message)</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:411</h2>
<pre>case LevelError:
	buildEvent(log.Error()).Msg(e.Message)</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:413</h2>
<pre>case LevelFatal:
	buildEvent(log.Fatal()).Msg(e.Message)</pre>
<h1>#107 found 4 clones</h1>
<h2>internal/application/config/safe_test.go:128</h2>
<pre>{
	name: "build valid config",
	builderFunc: func() *SafeConfigBuilder {
		return NewSafeConfigBuilder().
			AddProfile("test", "test profile").
			AddOperation(CleanTypeNixStore, shared.RiskLow).
			Done()
	},
	expectError: false,
}</pre>
<h2>internal/application/config/safe_test.go:146</h2>
<pre>{
	name: "build config with valid risk level only",
	builderFunc: func() *SafeConfigBuilder {
		return NewSafeConfigBuilder().
			AddProfile("test", "test profile").
			AddOperation(CleanTypeNixStore, shared.RiskLow).
			Done()
	},
	expectError: false,
}</pre>
<h2>test/config/safe_test.go:127</h2>
<pre>{
	name: "build valid config",
	builderFunc: func() *SafeConfigBuilder {
		return NewSafeConfigBuilder().
			AddProfile("test", "test profile").
			AddOperation(CleanTypeNixStore, shared.RiskLow).
			Done()
	},
	expectError: false,
}</pre>
<h2>test/config/safe_test.go:145</h2>
<pre>{
	name: "build config with valid risk level only",
	builderFunc: func() *SafeConfigBuilder {
		return NewSafeConfigBuilder().
			AddProfile("test", "test profile").
			AddOperation(CleanTypeNixStore, shared.RiskLow).
			Done()
	},
	expectError: false,
}</pre>
<h1>#108 found 2 clones</h1>
<h2>internal/interface/api/mapper_test.go:112</h2>
<pre>if operation.Settings.NixGenerations.Generations != defaultSettings.NixGenerations.Generations {
	t.Errorf("Expected generations %d, got %d", defaultSettings.NixGenerations.Generations, operation.Settings.NixGenerations.Generations)
}</pre>
<h2>internal/interface/api/mapper_test.go:115</h2>
<pre>if operation.Settings.NixGenerations.Optimization != defaultSettings.NixGenerations.Optimization {
	t.Errorf("Expected optimization %v, got %v", defaultSettings.NixGenerations.Optimization, operation.Settings.NixGenerations.Optimization)
}</pre>
<h1>#109 found 2 clones</h1>
<h2>internal/interface/cli/bdd/framework.go:221</h2>
<pre>if b.error != nil {
	return fmt.Errorf("cleaning failed: %w", b.error)
}</pre>
<h2>internal/interface/cli/bdd/framework.go:241</h2>
<pre>if b.error != nil {
	return fmt.Errorf("unexpected error: %w", b.error)
}</pre>
<h1>#110 found 14 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:115</h2>
<pre>   func(rl RiskLevelType) bool {
	return rl >= RiskLevelLowType && rl <= RiskLevelCriticalType
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:163</h2>
<pre>   func(on OperationNameType) bool {
	return on >= OperationNameNixGenerations && on <= OperationNameSystemTemp
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:233</h2>
<pre>   func(vl ValidationLevelType) bool {
	return vl >= ValidationLevelNoneType && vl <= ValidationLevelStrictType
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:290</h2>
<pre>   func(co ChangeOperationType) bool {
	return co >= ChangeOperationAddedType && co <= ChangeOperationModifiedType
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:344</h2>
<pre>   func(cs CleanStrategyType) bool {
	return cs >= StrategyAggressiveType && cs <= StrategyDryRunType
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:400</h2>
<pre>   func(st ScanTypeType) bool {
	return st >= ScanTypeNixStoreType && st <= ScanTypeTempType
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:426</h2>
<pre>   func(s StatusType) bool {
	return s >= StatusDisabled && s <= StatusInherited
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:479</h2>
<pre>   func(el EnforcementLevelType) bool {
	return el >= EnforcementLevelNone && el <= EnforcementLevelStrict
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:530</h2>
<pre>   func(ss SelectedStatusType) bool {
	return ss >= SelectedStatusNotSelected && ss <= SelectedStatusDefault
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:592</h2>
<pre>   func(rl RecursionLevelType) bool {
	return rl >= RecursionLevelNone && rl <= RecursionLevelInfinite
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:643</h2>
<pre>   func(ol OptimizationLevelType) bool {
	return ol >= OptimizationLevelNone && ol <= OptimizationLevelAggressive
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:694</h2>
<pre>   func(fss FileSelectionStrategyType) bool {
	return fss >= FileSelectionStrategyAll && fss <= FileSelectionStrategyManual
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:777</h2>
<pre>   func(sl SafetyLevelType) bool {
	return sl >= SafetyLevelDisabled && sl <= SafetyLevelParanoid
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:830</h2>
<pre>   func(em ExecutionModeType) bool {
	return em >= ExecutionModeDryRun && em <= ExecutionModeForce
}</pre>
<h1>#111 found 2 clones</h1>
<h2>internal/infrastructure/system/errors.go:16</h2>
<pre>func ErrInvalidArgument(arg, message string) error {
	return fmt.Errorf("invalid argument '%s': %s", arg, message)
}</pre>
<h2>internal/shared/errors/errors.go:38</h2>
<pre>func InputValidationError(field, value string) error {
	return fmt.Errorf("invalid input for field '%s': %s", field, value)
}</pre>
<h1>#112 found 9 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:136</h2>
<pre>if e.Details.Field != "" {
	details = append(details, fmt.Sprintf("field=%s", e.Details.Field))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:139</h2>
<pre>if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:142</h2>
<pre>if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:145</h2>
<pre>if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:148</h2>
<pre>if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:151</h2>
<pre>if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:154</h2>
<pre>if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:157</h2>
<pre>if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:160</h2>
<pre>if e.Details.Duration != "" {
	details = append(details, fmt.Sprintf("duration=%s", e.Details.Duration))
}</pre>
<h1>#113 found 5 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:80</h2>
<pre>func (hc *HomebrewCleaner) Cleanup(ctx context.Context, settings *shared.OperationSettings) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/cleaners/nix.go:79</h2>
<pre>func (nc *NixCleaner) Cleanup(ctx context.Context, settings *shared.OperationSettings) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/cleaners/npm.go:83</h2>
<pre>func (nc *NpmCleaner) Cleanup(ctx context.Context, settings *shared.OperationSettings) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:76</h2>
<pre>func (pc *PnpmCleaner) Cleanup(ctx context.Context, settings *shared.OperationSettings) result.Result[shared.CleanResult]</pre>
<h2>internal/infrastructure/cleaners/temp_files.go:72</h2>
<pre>func (tfc *TempFileCleaner) Cleanup(ctx context.Context, settings *shared.OperationSettings) result.Result[shared.CleanResult]</pre>
<h1>#114 found 11 clones</h1>
<h2>internal/application/config/safe_test.go:263</h2>
<pre>if profile.name != "test" {
	t.Errorf("expected profile name 'test', got %q", profile.name)
}</pre>
<h2>internal/application/config/safe_test.go:267</h2>
<pre>if profile.description != "test profile" {
	t.Errorf("expected profile description 'test profile', got %q", profile.description)
}</pre>
<h2>internal/infrastructure/cleaners/nix_test.go:88</h2>
<pre>if gen.ID != 1234 {
	t.Errorf("expected ID 1234, got %d", gen.ID)
}</pre>
<h2>internal/interface/api/mapper_test.go:78</h2>
<pre>if profile.Name != "daily" {
	t.Errorf("Expected profile name 'daily', got %s", profile.Name)
}</pre>
<h2>internal/interface/api/mapper_test.go:88</h2>
<pre>if operation.Name != "nix-generations" {
	t.Errorf("Expected operation name 'nix-generations', got %s", operation.Name)
}</pre>
<h2>test/config/integration_test.go:20</h2>
<pre>if sanitizationResult.Duration <= 0 {
	t.Errorf("Sanitization should take positive time, got: %v", sanitizationResult.Duration)
}</pre>
<h2>test/config/integration_test.go:45</h2>
<pre>if cfg.Version != "1.0.0" {
	t.Errorf("Expected sanitized version '1.0.0', got: %s", cfg.Version)
}</pre>
<h2>test/config/integration_test.go:83</h2>
<pre>if tempFilesSettings.OlderThan != "7d" {
	t.Errorf("Expected sanitized older_than '7d', got: %s", tempFilesSettings.OlderThan)
}</pre>
<h2>test/config/safe_test.go:262</h2>
<pre>if profile.name != "test" {
	t.Errorf("expected profile name 'test', got %q", profile.name)
}</pre>
<h2>test/config/safe_test.go:266</h2>
<pre>if profile.description != "test profile" {
	t.Errorf("expected profile description 'test profile', got %q", profile.description)
}</pre>
<h2>test/domain/domain_fuzz_test.go:59</h2>
<pre>if gen.ID < 0 {
	t.Logf("Invalid generation ID: %d", gen.ID)
}</pre>
<h1>#115 found 3 clones</h1>
<h2>internal/domain/config/config.go:96</h2>
<pre>{
	Name:        "nix-generations",
	Description: "Remove old Nix store generations",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:102</h2>
<pre>{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:108</h2>
<pre>{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "docker",
	Description: "Docker system cleanup (containers, images, volumes)",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusDisabled, // Disabled by default for safety
}</pre>
<h1>#116 found 2 clones</h1>
<h2>internal/shared/errors/errors_test.go:40</h2>
<pre>func TestCleanWizardError_IsType(t *testing.T) {
	err := NewError(ErrCodeInvalidGeneration, "Invalid generation")

	assert.True(t, err.IsType(ErrorTypeDomain))
	assert.False(t, err.IsType(ErrorTypeConfig))
}</pre>
<h2>internal/shared/errors/errors_test.go:47</h2>
<pre>func TestCleanWizardError_IsCode(t *testing.T) {
	err := NewError(ErrCodeInvalidGeneration, "Invalid generation")

	assert.True(t, err.IsCode(ErrCodeInvalidGeneration))
	assert.False(t, err.IsCode(ErrCodeInvalidSettings))
}</pre>
<h1>#117 found 7 clones</h1>
<h2>test/validation/duration_parser_test.go:249</h2>
<pre>{
	name:     "1 minute 30 seconds",
	input:    1*time.Minute + 30*time.Second,
	expected: "1m30s",
}</pre>
<h2>test/validation/duration_parser_test.go:254</h2>
<pre>{
	name:     "30 minutes 30 seconds",
	input:    30*time.Minute + 30*time.Second,
	expected: "30m30s",
}</pre>
<h2>test/validation/duration_parser_test.go:259</h2>
<pre>{
	name:     "59 minutes 30 seconds",
	input:    59*time.Minute + 30*time.Second,
	expected: "59m30s",
}</pre>
<h2>test/validation/duration_parser_test.go:283</h2>
<pre>{
	name:     "1 hour 30 minutes",
	input:    1*time.Hour + 30*time.Minute,
	expected: "1h30m0s",
}</pre>
<h2>test/validation/duration_parser_test.go:288</h2>
<pre>{
	name:     "12 hours 30 minutes",
	input:    12*time.Hour + 30*time.Minute,
	expected: "12h30m0s",
}</pre>
<h2>test/validation/duration_parser_test.go:293</h2>
<pre>{
	name:     "23 hours 30 minutes",
	input:    23*time.Hour + 30*time.Minute,
	expected: "23h30m0s",
}</pre>
<h2>test/validation/duration_parser_test.go:322</h2>
<pre>{
	name:     "1 day 1 hour",
	input:    24*time.Hour + 1*time.Hour,
	expected: "25h0m0s",
}</pre>
<h1>#118 found 2 clones</h1>
<h2>internal/interface/api/mapper_test.go:317</h2>
<pre>for _, tc := range testCases {
	t.Run(string(tc.public), func(t *testing.T) {
		// Test public to domain
		domainStrategy, err := MapStrategyToDomain(tc.public)
		if err != nil {
			t.Errorf("Expected successful mapping, got error: %v", err)
		}

		if domainStrategy != tc.domain {
			t.Errorf("Expected domain strategy %v, got %v", tc.domain, domainStrategy)
		}

		// Test domain to public
		publicStrategy := MapStrategyToPublic(tc.domain)
		if publicStrategy != tc.public {
			t.Errorf("Expected public strategy %s, got %s", tc.public, publicStrategy)
		}
	})
}</pre>
<h2>internal/interface/api/mapper_test.go:350</h2>
<pre>for _, tc := range testCases {
	t.Run(string(tc.public), func(t *testing.T) {
		// Test public to domain
		domainLevel, err := MapRiskLevelToDomain(tc.public)
		if err != nil {
			t.Errorf("Expected successful mapping, got error: %v", err)
		}

		if domainLevel != tc.domain {
			t.Errorf("Expected domain level %v, got %v", tc.domain, domainLevel)
		}

		// Test domain to public
		publicLevel := MapRiskLevelToPublic(tc.domain)
		if publicLevel != tc.public {
			t.Errorf("Expected public level %s, got %s", tc.public, publicLevel)
		}
	})
}</pre>
<h1>#119 found 4 clones</h1>
<h2>internal/interface/api/mapper_test.go:57</h2>
<pre>if domainConfig.Version != publicConfig.Version {
	t.Errorf("Expected version %s, got %s", publicConfig.Version, domainConfig.Version)
}</pre>
<h2>internal/interface/api/mapper_test.go:93</h2>
<pre>if operation.RiskLevel != domain.RiskLow {
	t.Errorf("Expected risk level %v, got %v", domain.RiskLow, operation.RiskLevel)
}</pre>
<h2>internal/interface/api/mapper_test.go:162</h2>
<pre>if publicConfig.Version != domainConfig.Version {
	t.Errorf("Expected version %s, got %s", domainConfig.Version, publicConfig.Version)
}</pre>
<h2>internal/interface/api/mapper_test.go:217</h2>
<pre>if publicResult.FreedBytes != domainResult.FreedBytes {
	t.Errorf("Expected freedBytes %d, got %d", domainResult.FreedBytes, publicResult.FreedBytes)
}</pre>
<h1>#120 found 2 clones</h1>
<h2>internal/shared/errors/filesystem_integration_test.go:18</h2>
<pre>             []struct {
	name         string
	error        error
	expectedCode ErrorCode
	expectedType ErrorType
}</pre>
<h2>test/validation/validation_validator_test.go:117</h2>
<pre>         []struct {
	name        string
	field       string
	value       any
	expectError bool
}</pre>
<h1>#121 found 3 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:186</h2>
<pre>       &CleanWizardError{
	Code:      code,
	Level:     LevelError,
	Message:   message,
	Details:   nil,
	Timestamp: time.Now(),
	Stack:     captureStack(),
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:198</h2>
<pre>       &CleanWizardError{
	Code:      code,
	Level:     level,
	Message:   message,
	Details:   nil,
	Timestamp: time.Now(),
	Stack:     captureStack(),
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:210</h2>
<pre>       &CleanWizardError{
	Code:      code,
	Level:     LevelError,
	Message:   message,
	Details:   details,
	Timestamp: time.Now(),
	Stack:     captureStack(),
}</pre>
<h1>#122 found 2 clones</h1>
<h2>internal/shared/errors/adapters.go:28</h2>
<pre>func isConfigurationError(err error) bool {
	configIndicators := []string{
		"config", "configuration", "yaml", "json", "toml",
		"parse", "invalid", "missing", "required",
	}
	return isErrorType(err, configIndicators)
}</pre>
<h2>internal/shared/errors/adapters.go:118</h2>
<pre>func isValidationError(err error) bool {
	validationIndicators := []string{
		"validation failed", "validation error", "invalid format",
		"invalid range", "required field", "constraint violation",
		"unacceptable value", "validation rule", "invalid value",
	}
	return isErrorType(err, validationIndicators)
}</pre>
<h1>#123 found 9 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:128</h2>
<pre>if original.MaxDiskUsage.Required == copied.MaxDiskUsage.Required {
	t.Error("FAILED: modified copied.MaxDiskUsage.Required affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:137</h2>
<pre>if original.MaxDiskUsage.Message == copied.MaxDiskUsage.Message {
	t.Error("FAILED: modified copied.MaxDiskUsage.Message affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:143</h2>
<pre>if original.MinProtectedPaths.Required == copied.MinProtectedPaths.Required {
	t.Error("FAILED: modified copied.MinProtectedPaths.Required affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:152</h2>
<pre>if original.MinProtectedPaths.Message == copied.MinProtectedPaths.Message {
	t.Error("FAILED: modified copied.MinProtectedPaths.Message affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:158</h2>
<pre>if original.MaxProfiles.Required == copied.MaxProfiles.Required {
	t.Error("FAILED: modified copied.MaxProfiles.Required affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:167</h2>
<pre>if original.MaxProfiles.Message == copied.MaxProfiles.Message {
	t.Error("FAILED: modified copied.MaxProfiles.Message affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:186</h2>
<pre>if original.ProfileNamePattern.Required == copied.ProfileNamePattern.Required {
	t.Error("FAILED: modified copied.ProfileNamePattern.Required affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:189</h2>
<pre>if original.ProfileNamePattern.Pattern == copied.ProfileNamePattern.Pattern {
	t.Error("FAILED: modified copied.ProfileNamePattern.Pattern affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:192</h2>
<pre>if original.ProfileNamePattern.Message == copied.ProfileNamePattern.Message {
	t.Error("FAILED: modified copied.ProfileNamePattern.Message affected original")
}</pre>
<h1>#124 found 6 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:110</h2>
<pre>var riskLevelHelper = NewEnumHelper(map[RiskLevelType]string{
	RiskLevelLowType:      "LOW",
	RiskLevelMediumType:   "MEDIUM",
	RiskLevelHighType:     "HIGH",
	RiskLevelCriticalType: "CRITICAL",
}, func(rl RiskLevelType) bool {
	return rl >= RiskLevelLowType && rl <= RiskLevelCriticalType
}, func() []RiskLevelType {
	return []RiskLevelType{
		RiskLevelLowType,
		RiskLevelMediumType,
		RiskLevelHighType,
		RiskLevelCriticalType,
	}
}, true) // case sensitive for risk levels

// String returns the string representation
func (rl RiskLevelType) String() string {
	return riskLevelHelper.String(rl)
}

// IsValid checks if risk level is valid
func (rl RiskLevelType) IsValid() bool {
	return riskLevelHelper.IsValid(rl)
}

// Values returns all possible values
func (rl RiskLevelType) Values() []RiskLevelType {
	return riskLevelHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (rl RiskLevelType) MarshalJSON() ([]byte, error) {
	return riskLevelHelper.MarshalJSONImpl(rl)
}

// UnmarshalJSON implements json.Unmarshaler
func (rl *RiskLevelType) UnmarshalJSON(data []byte) error {
	val, err := riskLevelHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*rl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:228</h2>
<pre>var validationLevelHelper = NewEnumHelper(map[ValidationLevelType]string{
	ValidationLevelNoneType:          "NONE",
	ValidationLevelBasicType:         "BASIC",
	ValidationLevelComprehensiveType: "COMPREHENSIVE",
	ValidationLevelStrictType:        "STRICT",
}, func(vl ValidationLevelType) bool {
	return vl >= ValidationLevelNoneType && vl <= ValidationLevelStrictType
}, func() []ValidationLevelType {
	return []ValidationLevelType{
		ValidationLevelNoneType,
		ValidationLevelBasicType,
		ValidationLevelComprehensiveType,
		ValidationLevelStrictType,
	}
}, true) // case sensitive for validation levels

// String returns the string representation
func (vl ValidationLevelType) String() string {
	return validationLevelHelper.String(vl)
}

// IsValid checks if validation level is valid
func (vl ValidationLevelType) IsValid() bool {
	return validationLevelHelper.IsValid(vl)
}

// Values returns all possible values
func (vl ValidationLevelType) Values() []ValidationLevelType {
	return validationLevelHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (vl ValidationLevelType) MarshalJSON() ([]byte, error) {
	return validationLevelHelper.MarshalJSONImpl(vl)
}

// UnmarshalJSON implements json.Unmarshaler
func (vl *ValidationLevelType) UnmarshalJSON(data []byte) error {
	val, err := validationLevelHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*vl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:474</h2>
<pre>var enforcementLevelTypeHelper = NewEnumHelper(map[EnforcementLevelType]string{
	EnforcementLevelNone:    "none",
	EnforcementLevelWarning: "warning",
	EnforcementLevelError:   "error",
	EnforcementLevelStrict:  "strict",
}, func(el EnforcementLevelType) bool {
	return el >= EnforcementLevelNone && el <= EnforcementLevelStrict
}, func() []EnforcementLevelType {
	return []EnforcementLevelType{EnforcementLevelNone, EnforcementLevelWarning, EnforcementLevelError, EnforcementLevelStrict}
}, false)

// String returns string representation
func (el EnforcementLevelType) String() string {
	return enforcementLevelTypeHelper.String(el)
}

// IsValid checks if enforcement level is valid
func (el EnforcementLevelType) IsValid() bool {
	return enforcementLevelTypeHelper.IsValid(el)
}

// Values returns all possible enforcement level values
func (el EnforcementLevelType) Values() []EnforcementLevelType {
	return enforcementLevelTypeHelper.Values()
}

// MarshalJSON converts enforcement level to JSON string
func (el EnforcementLevelType) MarshalJSON() ([]byte, error) {
	return enforcementLevelTypeHelper.MarshalJSONImpl(el)
}

// UnmarshalJSON converts JSON string to enforcement level
func (el *EnforcementLevelType) UnmarshalJSON(data []byte) error {
	val, err := enforcementLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*el = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:587</h2>
<pre>var recursionLevelTypeHelper = NewEnumHelper(map[RecursionLevelType]string{
	RecursionLevelNone:     "none",
	RecursionLevelDirect:   "direct",
	RecursionLevelFull:     "full",
	RecursionLevelInfinite: "infinite",
}, func(rl RecursionLevelType) bool {
	return rl >= RecursionLevelNone && rl <= RecursionLevelInfinite
}, func() []RecursionLevelType {
	return []RecursionLevelType{RecursionLevelNone, RecursionLevelDirect, RecursionLevelFull, RecursionLevelInfinite}
}, false)

// String returns string representation
func (rl RecursionLevelType) String() string {
	return recursionLevelTypeHelper.String(rl)
}

// IsValid checks if recursion level is valid
func (rl RecursionLevelType) IsValid() bool {
	return recursionLevelTypeHelper.IsValid(rl)
}

// Values returns all possible recursion level values
func (rl RecursionLevelType) Values() []RecursionLevelType {
	return recursionLevelTypeHelper.Values()
}

// MarshalJSON converts recursion level to JSON string
func (rl RecursionLevelType) MarshalJSON() ([]byte, error) {
	return recursionLevelTypeHelper.MarshalJSONImpl(rl)
}

// UnmarshalJSON converts JSON string to recursion level
func (rl *RecursionLevelType) UnmarshalJSON(data []byte) error {
	val, err := recursionLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*rl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:772</h2>
<pre>var safetyLevelTypeHelper = NewEnumHelper(map[SafetyLevelType]string{
	SafetyLevelDisabled: "disabled",
	SafetyLevelEnabled:  "enabled",
	SafetyLevelStrict:   "strict",
	SafetyLevelParanoid: "paranoid",
}, func(sl SafetyLevelType) bool {
	return sl >= SafetyLevelDisabled && sl <= SafetyLevelParanoid
}, func() []SafetyLevelType {
	return []SafetyLevelType{SafetyLevelDisabled, SafetyLevelEnabled, SafetyLevelStrict, SafetyLevelParanoid}
}, false)

// String returns string representation
func (sl SafetyLevelType) String() string {
	return safetyLevelTypeHelper.String(sl)
}

// IsValid checks if safety level is valid
func (sl SafetyLevelType) IsValid() bool {
	return safetyLevelTypeHelper.IsValid(sl)
}

// Values returns all possible safety level values
func (sl SafetyLevelType) Values() []SafetyLevelType {
	return safetyLevelTypeHelper.Values()
}

// MarshalJSON converts safety level to JSON string
func (sl SafetyLevelType) MarshalJSON() ([]byte, error) {
	return safetyLevelTypeHelper.MarshalJSONImpl(sl)
}

// UnmarshalJSON converts JSON string to safety level
func (sl *SafetyLevelType) UnmarshalJSON(data []byte) error {
	val, err := safetyLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*sl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:825</h2>
<pre>var executionModeTypeHelper = NewEnumHelper(map[ExecutionModeType]string{
	ExecutionModeDryRun:   "dry-run",
	ExecutionModeSimulate: "simulate",
	ExecutionModeExecute:  "execute",
	ExecutionModeForce:    "force",
}, func(em ExecutionModeType) bool {
	return em >= ExecutionModeDryRun && em <= ExecutionModeForce
}, func() []ExecutionModeType {
	return []ExecutionModeType{ExecutionModeDryRun, ExecutionModeSimulate, ExecutionModeExecute, ExecutionModeForce}
}, false)

// String returns string representation
func (em ExecutionModeType) String() string {
	return executionModeTypeHelper.String(em)
}

// IsValid checks if execution mode is valid
func (em ExecutionModeType) IsValid() bool {
	return executionModeTypeHelper.IsValid(em)
}

// Values returns all possible execution mode values
func (em ExecutionModeType) Values() []ExecutionModeType {
	return executionModeTypeHelper.Values()
}

// MarshalJSON converts execution mode to JSON string
func (em ExecutionModeType) MarshalJSON() ([]byte, error) {
	return executionModeTypeHelper.MarshalJSONImpl(em)
}

// UnmarshalJSON converts JSON string to execution mode
func (em *ExecutionModeType) UnmarshalJSON(data []byte) error {
	val, err := executionModeTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*em = val
	return nil
}</pre>
<h1>#125 found 5 clones</h1>
<h2>internal/application/config/config.go:222</h2>
<pre>func mapViperToDomainConfig(v *viper.Viper) (*config.Config, error)</pre>
<h2>test/config/bdd_nix_validation_test.go:208</h2>
<pre>						       func(t *testing.T) (*shared.Config, error)</pre>
<h2>test/config/bdd_nix_validation_test.go:249</h2>
<pre>						       func(t *testing.T) (*shared.Config, error)</pre>
<h2>test/config/bdd_nix_validation_test.go:268</h2>
<pre>						       func(t *testing.T) (*shared.Config, error)</pre>
<h2>test/config/bdd_nix_validation_test.go:287</h2>
<pre>						       func(t *testing.T) (*shared.Config, error)</pre>
<h1>#126 found 3 clones</h1>
<h2>internal/shared/errors/filesystem_integration_test.go:24</h2>
<pre>{
	name:         "File not found",
	error:        &os.PathError{Err: os.ErrNotExist, Path: "/tmp/missing"},
	expectedCode: ErrCodeFileNotFound,
	expectedType: ErrorTypeFileSystem,
}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:30</h2>
<pre>{
	name:         "Permission denied",
	error:        &os.PathError{Err: os.ErrPermission, Path: "/etc/shadow"},
	expectedCode: ErrCodePermissionError,
	expectedType: ErrorTypePermission,
}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:36</h2>
<pre>{
	name:         "Disk full",
	error:        &os.PathError{Err: syscall.ENOSPC, Path: "/tmp/full"},
	expectedCode: ErrCodeDiskFull,
	expectedType: ErrorTypeFileSystem,
}</pre>
<h1>#127 found 2 clones</h1>
<h2>internal/interface/api/types.go:53</h2>
<pre>const (
	PublicRiskLow      PublicRiskLevel = "LOW"
	PublicRiskMedium   PublicRiskLevel = "MEDIUM"
	PublicRiskHigh     PublicRiskLevel = "HIGH"
	PublicRiskCritical PublicRiskLevel = "CRITICAL"
)</pre>
<h2>internal/interface/api/types.go:71</h2>
<pre>const (
	OperationTypeNixGenerations OperationType = "nix-generations"
	OperationTypeTempFiles      OperationType = "temp-files"
	OperationTypeLogFiles       OperationType = "log-files"
	OperationTypeCacheFiles     OperationType = "cache-files"
)</pre>
<h1>#128 found 3 clones</h1>
<h2>internal/interface/api/mapper_test.go:213</h2>
<pre>if !publicResult.Success {
	t.Errorf("Expected success to be true, got %v", publicResult.Success)
}</pre>
<h2>test/config/integration_test.go:28</h2>
<pre>if !validationResult.IsValid {
	t.Errorf("Configuration should be valid after sanitization, got errors: %v", validationResult.Errors)
}</pre>
<h2>test/config/integration_test.go:35</h2>
<pre>if !postValidationResult.IsValid {
	t.Errorf("Configuration should remain valid after sanitization, got errors: %v", postValidationResult.Errors)
}</pre>
<h1>#129 found 2 clones</h1>
<h2>internal/infrastructure/system/nix.go:50</h2>
<pre>if err != nil {
	return result.Err[[]shared.NixGeneration](fmt.Errorf("failed to list generations: %w", err))
}</pre>
<h2>internal/infrastructure/system/nix.go:64</h2>
<pre>if err != nil {
	return result.Err[[]shared.NixGeneration](fmt.Errorf("failed to parse generation: %w", err))
}</pre>
<h1>#130 found 2 clones</h1>
<h2>internal/shared/errors/centralized.go:139</h2>
<pre>func CleanupError(operation string, cause error) *CleanWizardError {
	return WrapErrorf(cause, ErrCodeCleanupFailed, "Cleanup operation '%s' failed", operation).WithCaller()
}</pre>
<h2>internal/shared/errors/centralized.go:144</h2>
<pre>func OptimizationError(component string, cause error) *CleanWizardError {
	return WrapErrorf(cause, ErrCodeOptimizationFailed, "Optimization failed for %s", component).WithCaller()
}</pre>
<h1>#131 found 3 clones</h1>
<h2>internal/infrastructure/system/adapters_test.go:45</h2>
<pre>cm := adapters.NewCacheManager(5*time.Minute, 10*time.Minute)</pre>
<h2>internal/infrastructure/system/adapters_test.go:70</h2>
<pre>cm := adapters.NewCacheManager(100*time.Millisecond, 1*time.Minute)</pre>
<h2>internal/infrastructure/system/adapters_test.go:89</h2>
<pre>cm := adapters.NewCacheManager(5*time.Minute, 10*time.Minute)</pre>
<h1>#132 found 5 clones</h1>
<h2>internal/domain/shared/types.go:59</h2>
<pre>func (g GenerationCount) IsZero() bool {
	return g.Uint() == 0
}</pre>
<h2>internal/domain/shared/types.go:64</h2>
<pre>func (g GenerationCount) IsValid() bool {
	return g.Uint() <= 100
}</pre>
<h2>internal/domain/shared/types.go:83</h2>
<pre>func (d DiskUsageBytes) IsZero() bool {
	return d.Uint64() == 0
}</pre>
<h2>internal/domain/shared/types.go:104</h2>
<pre>func (m MaxDiskUsage) IsValid() bool {
	return m.Uint8() <= 100
}</pre>
<h2>internal/domain/shared/types.go:129</h2>
<pre>func (p ProfileName) IsEmpty() bool {
	return p.String() == ""
}</pre>
<h1>#133 found 3 clones</h1>
<h2>test/validation/validation_validator_test.go:15</h2>
<pre>Min:      func() *int { i := 10; return &i }()</pre>
<h2>test/validation/validation_validator_test.go:16</h2>
<pre>Max:      func() *int { i := 95; return &i }()</pre>
<h2>test/validation/validation_validator_test.go:21</h2>
<pre>Min:      func() *int { i := 1; return &i }()</pre>
<h1>#134 found 3 clones</h1>
<h2>internal/application/config/config.go:48</h2>
<pre>if err := readConfigFile(v); err != nil {
	return nil, pkgerrors.HandleConfigError("LoadWithContext", err)
}</pre>
<h2>internal/application/config/config.go:76</h2>
<pre>if err := loadAndValidateConfig(v); err != nil {
	return nil, fmt.Errorf("failed to load and validate config: %w", err)
}</pre>
<h2>internal/application/config/config.go:115</h2>
<pre>if err := loadAndValidateConfig(v); err != nil {
	return nil, fmt.Errorf("failed to load and validate config: %w", err)
}</pre>
<h1>#135 found 5 clones</h1>
<h2>internal/shared/errors/errors_test.go:120</h2>
<pre>err := &os.PathError{Err: os.ErrNotExist, Path: "/tmp/missing"}</pre>
<h2>internal/shared/errors/errors_test.go:132</h2>
<pre>err := &os.PathError{Err: os.ErrPermission, Path: "/tmp/protected"}</pre>
<h2>internal/shared/errors/errors_test.go:152</h2>
<pre>err := &os.PathError{Err: os.ErrClosed, Path: "/tmp/unknown"}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:101</h2>
<pre>notExistErr := &os.PathError{Err: syscall.ENOENT, Path: "/tmp/test"}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:108</h2>
<pre>permissionErr := &os.PathError{Err: syscall.EPERM, Path: "/tmp/test"}</pre>
<h1>#136 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/nix.go:85</h2>
<pre>case <-ctx.Done():
	return result.Err[shared.CleanResult](ctx.Err())</pre>
<h2>internal/infrastructure/cleaners/nix.go:111</h2>
<pre>case <-ctx.Done():
	return result.Err[shared.CleanResult](ctx.Err())</pre>
<h1>#137 found 3 clones</h1>
<h2>internal/infrastructure/cleaners/npm.go:20</h2>
<pre>func NewNpmCleaner(verbose, dryRun bool) *NpmCleaner {
	return &NpmCleaner{
		verbose: verbose,
		dryRun:  dryRun,
	}
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:20</h2>
<pre>func NewPnpmCleaner(verbose, dryRun bool) *PnpmCleaner {
	return &PnpmCleaner{
		verbose: verbose,
		dryRun:  dryRun,
	}
}</pre>
<h2>internal/infrastructure/cleaners/temp_files.go:22</h2>
<pre>func NewTempFileCleaner(verbose, dryRun bool) *TempFileCleaner {
	return &TempFileCleaner{
		verbose: verbose,
		dryRun:  dryRun,
	}
}</pre>
<h1>#138 found 4 clones</h1>
<h2>internal/domain/config/config.go:96</h2>
<pre>{
	Name:        "nix-generations",
	Description: "Remove old Nix store generations",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:102</h2>
<pre>{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:108</h2>
<pre>{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:114</h2>
<pre>{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "docker",
	Description: "Docker system cleanup (containers, images, volumes)",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusDisabled, // Disabled by default for safety
}</pre>
<h1>#139 found 2 clones</h1>
<h2>internal/infrastructure/system/errors.go:21</h2>
<pre>func ErrNotFound(resource string) error {
	return fmt.Errorf("resource not found: %s", resource)
}

// ErrTimeout creates a timeout error
func ErrTimeout(operation string) error {
	return fmt.Errorf("operation timeout: %s", operation)
}

// ErrRateLimit creates a rate limit error
func ErrRateLimit(limit float64) error {
	return fmt.Errorf("rate limit exceeded: %.2f requests/second", limit)
}

// ErrCacheMiss creates a cache miss error
func ErrCacheMiss(key string) error {
	return fmt.Errorf("cache miss: key '%s' not found", key)
}</pre>
<h2>internal/infrastructure/system/errors.go:46</h2>
<pre>func ErrNotImplemented(feature string) error {
	return fmt.Errorf("feature not implemented: %s", feature)
}

// ErrUnauthorized creates an unauthorized error
func ErrUnauthorized(operation string) error {
	return fmt.Errorf("unauthorized: %s", operation)
}

// ErrForbidden creates a forbidden error
func ErrForbidden(operation string) error {
	return fmt.Errorf("forbidden: %s", operation)
}

// ErrServiceUnavailable creates a service unavailable error
func ErrServiceUnavailable(service string) error {
	return fmt.Errorf("service unavailable: %s", service)
}</pre>
<h1>#140 found 14 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:142</h2>
<pre>func (rl RiskLevelType) MarshalJSON() ([]byte, error) {
	return riskLevelHelper.MarshalJSONImpl(rl)
}

// UnmarshalJSON implements json.Unmarshaler
func (rl *RiskLevelType) UnmarshalJSON(data []byte) error {
	val, err := riskLevelHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*rl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:191</h2>
<pre>func (on OperationNameType) MarshalJSON() ([]byte, error) {
	return operationNameHelper.MarshalJSONImpl(on)
}

// UnmarshalJSON implements json.Unmarshaler
func (on *OperationNameType) UnmarshalJSON(data []byte) error {
	val, err := operationNameHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*on = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:260</h2>
<pre>func (vl ValidationLevelType) MarshalJSON() ([]byte, error) {
	return validationLevelHelper.MarshalJSONImpl(vl)
}

// UnmarshalJSON implements json.Unmarshaler
func (vl *ValidationLevelType) UnmarshalJSON(data []byte) error {
	val, err := validationLevelHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*vl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:316</h2>
<pre>func (co ChangeOperationType) MarshalJSON() ([]byte, error) {
	return changeOperationHelper.MarshalJSONImpl(co)
}

// UnmarshalJSON implements json.Unmarshaler
func (co *ChangeOperationType) UnmarshalJSON(data []byte) error {
	val, err := changeOperationHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*co = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:370</h2>
<pre>func (cs CleanStrategyType) MarshalJSON() ([]byte, error) {
	return cleanStrategyHelper.MarshalJSONImpl(cs)
}

// UnmarshalJSON implements json.Unmarshaler
func (cs *CleanStrategyType) UnmarshalJSON(data []byte) error {
	val, err := cleanStrategyHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*cs = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:448</h2>
<pre>func (s StatusType) MarshalJSON() ([]byte, error) {
	return statusTypeHelper.MarshalJSONImpl(s)
}

// UnmarshalJSON converts JSON string to status
func (s *StatusType) UnmarshalJSON(data []byte) error {
	val, err := statusTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*s = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:501</h2>
<pre>func (el EnforcementLevelType) MarshalJSON() ([]byte, error) {
	return enforcementLevelTypeHelper.MarshalJSONImpl(el)
}

// UnmarshalJSON converts JSON string to enforcement level
func (el *EnforcementLevelType) UnmarshalJSON(data []byte) error {
	val, err := enforcementLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*el = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:561</h2>
<pre>func (ss SelectedStatusType) MarshalJSON() ([]byte, error) {
	return selectedStatusTypeHelper.MarshalJSONImpl(ss)
}

// UnmarshalJSON converts JSON string to selected status
func (ss *SelectedStatusType) UnmarshalJSON(data []byte) error {
	val, err := selectedStatusTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*ss = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:614</h2>
<pre>func (rl RecursionLevelType) MarshalJSON() ([]byte, error) {
	return recursionLevelTypeHelper.MarshalJSONImpl(rl)
}

// UnmarshalJSON converts JSON string to recursion level
func (rl *RecursionLevelType) UnmarshalJSON(data []byte) error {
	val, err := recursionLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*rl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:665</h2>
<pre>func (ol OptimizationLevelType) MarshalJSON() ([]byte, error) {
	return optimizationLevelTypeHelper.MarshalJSONImpl(ol)
}

// UnmarshalJSON converts JSON string to optimization level
func (ol *OptimizationLevelType) UnmarshalJSON(data []byte) error {
	val, err := optimizationLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*ol = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:716</h2>
<pre>func (fss FileSelectionStrategyType) MarshalJSON() ([]byte, error) {
	return fileSelectionStrategyTypeHelper.MarshalJSONImpl(fss)
}

// UnmarshalJSON converts JSON string to file selection strategy
func (fss *FileSelectionStrategyType) UnmarshalJSON(data []byte) error {
	val, err := fileSelectionStrategyTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*fss = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:746</h2>
<pre>func (st ScanTypeType) MarshalJSON() ([]byte, error) {
	return scanTypeHelper.MarshalJSONImpl(st)
}

// UnmarshalJSON implements json.Unmarshaler
func (st *ScanTypeType) UnmarshalJSON(data []byte) error {
	val, err := scanTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*st = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:799</h2>
<pre>func (sl SafetyLevelType) MarshalJSON() ([]byte, error) {
	return safetyLevelTypeHelper.MarshalJSONImpl(sl)
}

// UnmarshalJSON converts JSON string to safety level
func (sl *SafetyLevelType) UnmarshalJSON(data []byte) error {
	val, err := safetyLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*sl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:852</h2>
<pre>func (em ExecutionModeType) MarshalJSON() ([]byte, error) {
	return executionModeTypeHelper.MarshalJSONImpl(em)
}

// UnmarshalJSON converts JSON string to execution mode
func (em *ExecutionModeType) UnmarshalJSON(data []byte) error {
	val, err := executionModeTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*em = val
	return nil
}</pre>
<h1>#141 found 2 clones</h1>
<h2>internal/shared/errors/errors_test.go:167</h2>
<pre>func TestConfigErrorAdapter(t *testing.T) {
	adapter := &ConfigErrorAdapter{}
	originalErr := errors.New("invalid config")

	cwErr := adapter.Adapt(originalErr, "main configuration")

	require.NotNil(t, cwErr)
	assert.Equal(t, ErrCodeInvalidConfig, cwErr.Code)
	assert.Equal(t, ErrorTypeConfig, cwErr.Type)
	assert.Equal(t, SeverityInfo, cwErr.Severity)
	assert.Contains(t, cwErr.Message, "main configuration")
	assert.Equal(t, originalErr, cwErr.Cause)
}</pre>
<h2>internal/shared/errors/errors_test.go:181</h2>
<pre>func TestValidationErrorAdapter(t *testing.T) {
	adapter := &ValidationErrorAdapter{}
	originalErr := errors.New("invalid value")

	cwErr := adapter.Adapt(originalErr, "email field")

	require.NotNil(t, cwErr)
	assert.Equal(t, ErrCodeValidationFailed, cwErr.Code)
	assert.Equal(t, ErrorTypeValidation, cwErr.Type)
	assert.Equal(t, SeverityError, cwErr.Severity)
	assert.Contains(t, cwErr.Message, "email field")
	assert.Equal(t, originalErr, cwErr.Cause)
}</pre>
<h1>#142 found 5 clones</h1>
<h2>internal/shared/errors/types.go:157</h2>
<pre>func (e *CleanWizardError) WithDetails(details any) *CleanWizardError {
	e.Details = details
	return e
}</pre>
<h2>internal/shared/errors/types.go:163</h2>
<pre>func (e *CleanWizardError) WithCause(cause error) *CleanWizardError {
	e.Cause = cause
	return e
}</pre>
<h2>internal/shared/errors/types.go:169</h2>
<pre>func (e *CleanWizardError) WithSeverity(severity ErrorSeverity) *CleanWizardError {
	e.Severity = severity
	return e
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:223</h2>
<pre>func (e *CleanWizardError) WithOperation(operation string) *CleanWizardError {
	e.Operation = operation
	return e
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:307</h2>
<pre>func (e *CleanWizardError) WithLevel(level ErrorLevel) *CleanWizardError {
	e.Level = level
	return e
}</pre>
<h1>#143 found 2 clones</h1>
<h2>internal/shared/errors/centralized.go:129</h2>
<pre>func PermissionError(resource string) *CleanWizardError {
	return NewErrorf(ErrCodePermissionDenied, "Permission denied for: %s", resource).WithCaller()
}</pre>
<h2>internal/shared/errors/centralized.go:134</h2>
<pre>func FileNotFoundError(path string) *CleanWizardError {
	return NewErrorf(ErrCodeFileNotFound, "File not found: %s", path).WithCaller()
}</pre>
<h1>#144 found 3 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:136</h2>
<pre>if e.Details.Field != "" {
	details = append(details, fmt.Sprintf("field=%s", e.Details.Field))
}
if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:139</h2>
<pre>if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:142</h2>
<pre>if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}
if e.Details.Duration != "" {
	details = append(details, fmt.Sprintf("duration=%s", e.Details.Duration))
}</pre>
<h1>#145 found 3 clones</h1>
<h2>internal/shared/result/simple_fuzz_test.go:19</h2>
<pre>if okResult.IsOk() != true {
	t.Logf("Ok result should be ok: %s", data)
}</pre>
<h2>internal/shared/result/simple_fuzz_test.go:23</h2>
<pre>if errResult.IsOk() != false {
	t.Logf("Err result should not be ok: %s", data)
}</pre>
<h2>internal/shared/result/simple_fuzz_test.go:27</h2>
<pre>if errResult.IsErr() != true {
	t.Logf("Err result should be err: %s", data)
}</pre>
<h1>#146 found 2 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:259</h2>
<pre>case "operation":
	if v, ok := value.(string); ok {
		e.Details.Operation = v
	}
case "file_path":
	if v, ok := value.(string); ok {
		e.Details.FilePath = v
	}
case "line_number":
	if v, ok := value.(int); ok {
		e.Details.LineNumber = v
	}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:263</h2>
<pre>case "file_path":
	if v, ok := value.(string); ok {
		e.Details.FilePath = v
	}
case "line_number":
	if v, ok := value.(int); ok {
		e.Details.LineNumber = v
	}
case "retry_count":
	if v, ok := value.(int); ok {
		e.Details.RetryCount = v
	}</pre>
<h1>#147 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:205</h2>
<pre>case strings.Contains(command, "autoremove"):
	itemsRemoved = 2               // Typically removes 1-2 packages
	bytesFreed = 100 * 1024 * 1024</pre>
<h2>internal/infrastructure/cleaners/homebrew.go:208</h2>
<pre>case strings.Contains(command, "cleanup"):
	itemsRemoved = 5               // Typically removes several cached files
	bytesFreed = 200 * 1024 * 1024</pre>
<h1>#148 found 2 clones</h1>
<h2>test/config/bdd_nix_validation_test.go:213</h2>
<pre>When: []BDDWhen{
	{
		Description: "the configuration is validated",
		Action: func(cfg *shared.Config) (*ValidationResult, error) {
			validator := NewConfigValidator()
			return validator.ValidateConfig(cfg), nil
		},
	},
}</pre>
<h2>test/config/bdd_nix_validation_test.go:292</h2>
<pre>When: []BDDWhen{
	{
		Description: "the configuration is validated",
		Action: func(cfg *shared.Config) (*ValidationResult, error) {
			validator := NewConfigValidator()
			return validator.ValidateConfig(cfg), nil
		},
	},
}</pre>
<h1>#149 found 2 clones</h1>
<h2>internal/shared/result/simple_fuzz_test.go:19</h2>
<pre>if okResult.IsOk() != true {
	t.Logf("Ok result should be ok: %s", data)
}

if errResult.IsOk() != false {
	t.Logf("Err result should not be ok: %s", data)
}</pre>
<h2>internal/shared/result/simple_fuzz_test.go:23</h2>
<pre>if errResult.IsOk() != false {
	t.Logf("Err result should not be ok: %s", data)
}

if errResult.IsErr() != true {
	t.Logf("Err result should be err: %s", data)
}</pre>
<h1>#150 found 2 clones</h1>
<h2>internal/shared/errors/types.go:135</h2>
<pre>func (e *CleanWizardError) IsType(errorType ErrorType) bool {
	return e.Type == errorType
}

// IsCode checks if error has specific code
func (e *CleanWizardError) IsCode(code ErrorCode) bool {
	return e.Code == code
}</pre>
<h2>internal/shared/errors/types.go:140</h2>
<pre>func (e *CleanWizardError) IsCode(code ErrorCode) bool {
	return e.Code == code
}

// IsSeverity checks if error has specific severity level or higher (more severe)
func (e *CleanWizardError) IsSeverity(severity ErrorSeverity) bool {
	return e.Severity >= severity
}</pre>
<h1>#151 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/npm.go:20</h2>
<pre>func NewNpmCleaner(verbose, dryRun bool) *NpmCleaner {
	return &NpmCleaner{
		verbose: verbose,
		dryRun:  dryRun,
	}
}

// IsAvailable checks if npm cleaner is available
func (nc *NpmCleaner) IsAvailable(ctx context.Context) bool {
	return checkCommandExists(ctx, "npm")
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:20</h2>
<pre>func NewPnpmCleaner(verbose, dryRun bool) *PnpmCleaner {
	return &PnpmCleaner{
		verbose: verbose,
		dryRun:  dryRun,
	}
}

// IsAvailable checks if pnpm cleaner is available
func (pc *PnpmCleaner) IsAvailable(ctx context.Context) bool {
	return checkCommandExists(ctx, "pnpm")
}</pre>
<h1>#152 found 6 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:136</h2>
<pre>if e.Details.Field != "" {
	details = append(details, fmt.Sprintf("field=%s", e.Details.Field))
}
if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:139</h2>
<pre>if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:142</h2>
<pre>if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:145</h2>
<pre>if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:148</h2>
<pre>if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:151</h2>
<pre>if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}
if e.Details.Duration != "" {
	details = append(details, fmt.Sprintf("duration=%s", e.Details.Duration))
}</pre>
<h1>#153 found 2 clones</h1>
<h2>internal/application/config/type_safe_validation_rules.go:64</h2>
<pre>MinProtectedPaths: &NumericValidationRule{
	Required: true,
	Min:      &minPaths,
	Message:  "At least one protected path is required",
},
MaxProfiles: &NumericValidationRule{
	Required: false,
	Max:      &maxProfiles,
	Message:  "Consider limiting profiles to maintain clarity",
}</pre>
<h2>internal/application/config/type_safe_validation_rules.go:69</h2>
<pre>MaxProfiles: &NumericValidationRule{
	Required: false,
	Max:      &maxProfiles,
	Message:  "Consider limiting profiles to maintain clarity",
},
MaxOperations: &NumericValidationRule{
	Required: false,
	Max:      &maxOps,
	Message:  "Consider limiting operations per profile for better maintainability",
}</pre>
<h1>#154 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/temp_files.go:40</h2>
<pre>tempDirs := []string{
	os.TempDir(),
	filepath.Join(os.Getenv("HOME"), "tmp"),
	filepath.Join(os.Getenv("HOME"), ".tmp"),
}</pre>
<h2>internal/infrastructure/cleaners/temp_files.go:105</h2>
<pre>tempDirs := []string{
	os.TempDir(),
	filepath.Join(os.Getenv("HOME"), "tmp"),
	filepath.Join(os.Getenv("HOME"), ".tmp"),
}</pre>
<h1>#155 found 3 clones</h1>
<h2>internal/infrastructure/system/errors.go:41</h2>
<pre>func ErrHTTPError(statusCode int, message string) error {
	return fmt.Errorf("HTTP error %d: %s", statusCode, message)
}</pre>
<h2>internal/shared/errors/errors.go:23</h2>
<pre>func CleanOperationError(operation string, err error) error {
	return fmt.Errorf("clean operation '%s' failed: %w", operation, err)
}</pre>
<h2>internal/shared/errors/errors.go:28</h2>
<pre>func ScanOperationError(scanner string, err error) error {
	return fmt.Errorf("scan operation '%s' failed: %w", scanner, err)
}</pre>
<h1>#156 found 3 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:107</h2>
<pre>if copied.MaxDiskUsage != nil {
	copied.MaxDiskUsage.Required = !original.MaxDiskUsage.Required
	copied.MaxDiskUsage.Min = intPtr(999)
	copied.MaxDiskUsage.Max = intPtr(888)
	copied.MaxDiskUsage.Message = "MODIFIED MESSAGE"
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:113</h2>
<pre>if copied.MinProtectedPaths != nil {
	copied.MinProtectedPaths.Required = !original.MinProtectedPaths.Required
	copied.MinProtectedPaths.Min = intPtr(777)
	copied.MinProtectedPaths.Max = intPtr(666)
	copied.MinProtectedPaths.Message = "MODIFIED MESSAGE TOO"
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:119</h2>
<pre>if copied.MaxProfiles != nil {
	copied.MaxProfiles.Required = !original.MaxProfiles.Required
	copied.MaxProfiles.Min = intPtr(555)
	copied.MaxProfiles.Max = intPtr(444)
	copied.MaxProfiles.Message = "MODIFIED MAX PROFILES MESSAGE"
}</pre>
<h1>#157 found 2 clones</h1>
<h2>internal/domain/config/config.go:96</h2>
<pre>{
	Name:        "nix-generations",
	Description: "Remove old Nix store generations",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:102</h2>
<pre>{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "docker",
	Description: "Docker system cleanup (containers, images, volumes)",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusDisabled, // Disabled by default for safety
}</pre>
<h1>#158 found 9 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:363</h2>
<pre>if e.Details.Field != "" {
	event = event.Str("detail_field", e.Details.Field)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:366</h2>
<pre>if e.Details.Value != "" {
	event = event.Str("detail_value", e.Details.Value)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:369</h2>
<pre>if e.Details.Expected != "" {
	event = event.Str("detail_expected", e.Details.Expected)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:372</h2>
<pre>if e.Details.Actual != "" {
	event = event.Str("detail_actual", e.Details.Actual)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:375</h2>
<pre>if e.Details.Operation != "" {
	event = event.Str("detail_operation", e.Details.Operation)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:378</h2>
<pre>if e.Details.FilePath != "" {
	event = event.Str("detail_file_path", e.Details.FilePath)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:381</h2>
<pre>if e.Details.LineNumber > 0 {
	event = event.Int("detail_line_number", e.Details.LineNumber)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:384</h2>
<pre>if e.Details.RetryCount > 0 {
	event = event.Int("detail_retry_count", e.Details.RetryCount)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:387</h2>
<pre>if e.Details.Duration != "" {
	event = event.Str("detail_duration", e.Details.Duration)
}</pre>
<h1>#159 found 2 clones</h1>
<h2>internal/interface/api/types.go:25</h2>
<pre>                     struct {
	Name        string            `json:"name"`
	Description string            `json:"description"`
	RiskLevel   PublicRiskLevel   `json:"riskLevel"`
	Status      shared.StatusType `json:"status"` // FIXED: bool → enum - invalid states UNREPRESENTABLE!
	Settings    OperationSettings `json:"settings"`
}</pre>
<h2>test/validation/duration_parser_test.go:10</h2>
<pre>           struct {
	name        string
	input       string
	expectValid bool
	expected    time.Duration
	expectError bool
}</pre>
<h1>#160 found 4 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors_test.go:14</h2>
<pre>if err.Details.LineNumber != 42 {
	t.Errorf("Expected line number 42, got %d", err.Details.LineNumber)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors_test.go:19</h2>
<pre>if err.Details.FilePath != "/test/path" {
	t.Errorf("Expected file path '/test/path', got %s", err.Details.FilePath)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors_test.go:43</h2>
<pre>if err.Details.LineNumber != 42 {
	t.Errorf("Expected line number 42 from float64, got %d", err.Details.LineNumber)
}</pre>
<h2>internal/shared/utils/pkg/errors/errors_test.go:49</h2>
<pre>if err.Details.RetryCount != 3 {
	t.Errorf("Expected retry count 3, got %d", err.Details.RetryCount)
}</pre>
<h1>#161 found 3 clones</h1>
<h2>internal/shared/errors/types.go:197</h2>
<pre>func WrapError(cause error, code ErrorCode, message string) *CleanWizardError</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:197</h2>
<pre>func NewErrorWithLevel(code ErrorCode, level ErrorLevel, message string) *CleanWizardError</pre>
<h2>internal/shared/utils/pkg/errors/handlers.go:75</h2>
<pre>func WrapError(err error, code ErrorCode, operation string) *CleanWizardError</pre>
<h1>#162 found 2 clones</h1>
<h2>internal/application/config/safe_test.go:263</h2>
<pre>if profile.name != "test" {
	t.Errorf("expected profile name 'test', got %q", profile.name)
}

if profile.description != "test profile" {
	t.Errorf("expected profile description 'test profile', got %q", profile.description)
}

if len(profile.operations) == 0 {
	t.Error("expected at least one operation")
}</pre>
<h2>test/config/safe_test.go:262</h2>
<pre>if profile.name != "test" {
	t.Errorf("expected profile name 'test', got %q", profile.name)
}

if profile.description != "test profile" {
	t.Errorf("expected profile description 'test profile', got %q", profile.description)
}

if len(profile.operations) == 0 {
	t.Error("expected at least one operation")
}</pre>
<h1>#163 found 3 clones</h1>
<h2>internal/infrastructure/system/environment.go:123</h2>
<pre>                                                    {
	if value, exists := os.LookupEnv(key); exists {
		if parsed, err := strconv.ParseBool(value); err == nil {
			return parsed
		}
	}
	return defaultValue
}</pre>
<h2>internal/infrastructure/system/environment.go:133</h2>
<pre>                                                 {
	if value, exists := os.LookupEnv(key); exists {
		if parsed, err := strconv.Atoi(value); err == nil {
			return parsed
		}
	}
	return defaultValue
}</pre>
<h2>internal/infrastructure/system/environment.go:143</h2>
<pre>                                                                          {
	if value, exists := os.LookupEnv(key); exists {
		if parsed, err := time.ParseDuration(value); err == nil {
			return parsed
		}
	}
	return defaultValue
}</pre>
<h1>#164 found 6 clones</h1>
<h2>internal/domain/config/config.go:96</h2>
<pre>{
	Name:        "nix-generations",
	Description: "Remove old Nix store generations",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:102</h2>
<pre>{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:108</h2>
<pre>{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:114</h2>
<pre>{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:120</h2>
<pre>{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:126</h2>
<pre>{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "docker",
	Description: "Docker system cleanup (containers, images, volumes)",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusDisabled, // Disabled by default for safety
}</pre>
<h1>#165 found 5 clones</h1>
<h2>test/nix.go:14</h2>
<pre>{ID: 300, Path: "/nix/var/nix/profiles/default-300-link", Date: now.Add(-24 * time.Hour), Status: shared.SelectedStatusSelected}</pre>
<h2>test/nix.go:15</h2>
<pre>{ID: 299, Path: "/nix/var/nix/profiles/default-299-link", Date: now.Add(-48 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:16</h2>
<pre>{ID: 298, Path: "/nix/var/nix/profiles/default-298-link", Date: now.Add(-72 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:17</h2>
<pre>{ID: 297, Path: "/nix/var/nix/profiles/default-297-link", Date: now.Add(-96 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:18</h2>
<pre>{ID: 296, Path: "/nix/var/nix/profiles/default-296-link", Date: now.Add(-120 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h1>#166 found 2 clones</h1>
<h2>internal/shared/utils/format/format.go:40</h2>
<pre>func Date(t time.Time) string {
	if t.IsZero() {
		return "never"
	}
	return t.Format("2006-01-02")
}</pre>
<h2>internal/shared/utils/format/format.go:48</h2>
<pre>func DateTime(t time.Time) string {
	if t.IsZero() {
		return "never"
	}
	return t.Format("2006-01-02 15:04:05")
}</pre>
<h1>#167 found 4 clones</h1>
<h2>internal/shared/errors/adapters.go:18</h2>
<pre>for _, indicator := range indicators {
	if strings.Contains(lowerErrStr, indicator) {
		return true
	}
}</pre>
<h2>internal/shared/errors/adapters.go:159</h2>
<pre>for _, indicator := range networkIndicators {
	if strings.Contains(lowerErrStr, indicator) {
		return true
	}
}</pre>
<h2>internal/shared/errors/adapters.go:201</h2>
<pre>for _, indicator := range systemIndicators {
	if strings.Contains(lowerErrStr, indicator) {
		return true
	}
}</pre>
<h2>internal/shared/errors/adapters.go:243</h2>
<pre>for _, indicator := range externalToolIndicators {
	if strings.Contains(lowerErrStr, indicator) {
		return true
	}
}</pre>
<h1>#168 found 2 clones</h1>
<h2>internal/shared/result/type.go:21</h2>
<pre>func (r Result[T]) IsOk() bool {
	return r.err == nil
}</pre>
<h2>internal/shared/result/type.go:26</h2>
<pre>func (r Result[T]) IsErr() bool {
	return r.err != nil
}</pre>
<h1>#169 found 2 clones</h1>
<h2>test/validation/duration_parser_test.go:73</h2>
<pre>{
	name:        "Invalid duration - empty string",
	input:       "",
	expectValid: false,
	expected:    0,
	expectError: true,
},
{
	name:        "Invalid duration - unsupported unit",
	input:       "1w", // weeks not supported
	expectValid: false,
	expected:    0,
	expectError: true,
},
{
	name:        "Invalid duration - malformed days",
	input:       "1.xd",
	expectValid: false,
	expected:    0,
	expectError: true,
},
{
	name:        "Invalid duration - negative days",
	input:       "-1d",
	expectValid: false,
	expected:    0,
	expectError: true,
}</pre>
<h2>test/validation/duration_parser_test.go:80</h2>
<pre>{
	name:        "Invalid duration - unsupported unit",
	input:       "1w", // weeks not supported
	expectValid: false,
	expected:    0,
	expectError: true,
},
{
	name:        "Invalid duration - malformed days",
	input:       "1.xd",
	expectValid: false,
	expected:    0,
	expectError: true,
},
{
	name:        "Invalid duration - negative days",
	input:       "-1d",
	expectValid: false,
	expected:    0,
	expectError: true,
},
{
	name:        "Invalid duration - just unit",
	input:       "d",
	expectValid: false,
	expected:    0,
	expectError: true,
}</pre>
<h1>#170 found 3 clones</h1>
<h2>test/domain/enum_helper_test.go:161</h2>
<pre>case CleanStrategyType:
	var cs CleanStrategyType
	if err := json.Unmarshal([]byte(tt.data), &cs); err != nil {
		t.Fatalf("Unmarshal error: %v", err)
	}
	result = cs</pre>
<h2>test/domain/enum_helper_test.go:167</h2>
<pre>case ScanTypeType:
	var st ScanTypeType
	if err := json.Unmarshal([]byte(tt.data), &st); err != nil {
		t.Fatalf("Unmarshal error: %v", err)
	}
	result = st</pre>
<h2>test/domain/enum_helper_test.go:173</h2>
<pre>case RiskLevelType:
	var rl RiskLevelType
	if err := json.Unmarshal([]byte(tt.data), &rl); err != nil {
		t.Fatalf("Unmarshal error: %v", err)
	}
	result = rl</pre>
<h1>#171 found 14 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:127</h2>
<pre>func (rl RiskLevelType) String() string {
	return riskLevelHelper.String(rl)
}

// IsValid checks if risk level is valid
func (rl RiskLevelType) IsValid() bool {
	return riskLevelHelper.IsValid(rl)
}

// Values returns all possible values
func (rl RiskLevelType) Values() []RiskLevelType {
	return riskLevelHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:176</h2>
<pre>func (on OperationNameType) String() string {
	return operationNameHelper.String(on)
}

// IsValid checks if operation name is valid
func (on OperationNameType) IsValid() bool {
	return operationNameHelper.IsValid(on)
}

// Values returns all possible values
func (on OperationNameType) Values() []OperationNameType {
	return operationNameHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:245</h2>
<pre>func (vl ValidationLevelType) String() string {
	return validationLevelHelper.String(vl)
}

// IsValid checks if validation level is valid
func (vl ValidationLevelType) IsValid() bool {
	return validationLevelHelper.IsValid(vl)
}

// Values returns all possible values
func (vl ValidationLevelType) Values() []ValidationLevelType {
	return validationLevelHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:301</h2>
<pre>func (co ChangeOperationType) String() string {
	return changeOperationHelper.String(co)
}

// IsValid checks if change operation is valid
func (co ChangeOperationType) IsValid() bool {
	return changeOperationHelper.IsValid(co)
}

// Values returns all possible values
func (co ChangeOperationType) Values() []ChangeOperationType {
	return changeOperationHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:355</h2>
<pre>func (cs CleanStrategyType) String() string {
	return cleanStrategyHelper.String(cs)
}

// IsValid checks if clean strategy is valid
func (cs CleanStrategyType) IsValid() bool {
	return cleanStrategyHelper.IsValid(cs)
}

// Values returns all possible values
func (cs CleanStrategyType) Values() []CleanStrategyType {
	return cleanStrategyHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:433</h2>
<pre>func (s StatusType) String() string {
	return statusTypeHelper.String(s)
}

// IsValid checks if status is valid
func (s StatusType) IsValid() bool {
	return statusTypeHelper.IsValid(s)
}

// Values returns all possible status values
func (s StatusType) Values() []StatusType {
	return statusTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:486</h2>
<pre>func (el EnforcementLevelType) String() string {
	return enforcementLevelTypeHelper.String(el)
}

// IsValid checks if enforcement level is valid
func (el EnforcementLevelType) IsValid() bool {
	return enforcementLevelTypeHelper.IsValid(el)
}

// Values returns all possible enforcement level values
func (el EnforcementLevelType) Values() []EnforcementLevelType {
	return enforcementLevelTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:537</h2>
<pre>func (ss SelectedStatusType) String() string {
	return selectedStatusTypeHelper.String(ss)
}

// IsValid checks if selected status is valid
func (ss SelectedStatusType) IsValid() bool {
	return selectedStatusTypeHelper.IsValid(ss)
}

// Values returns all possible selected status values
func (ss SelectedStatusType) Values() []SelectedStatusType {
	return selectedStatusTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:599</h2>
<pre>func (rl RecursionLevelType) String() string {
	return recursionLevelTypeHelper.String(rl)
}

// IsValid checks if recursion level is valid
func (rl RecursionLevelType) IsValid() bool {
	return recursionLevelTypeHelper.IsValid(rl)
}

// Values returns all possible recursion level values
func (rl RecursionLevelType) Values() []RecursionLevelType {
	return recursionLevelTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:650</h2>
<pre>func (ol OptimizationLevelType) String() string {
	return optimizationLevelTypeHelper.String(ol)
}

// IsValid checks if optimization level is valid
func (ol OptimizationLevelType) IsValid() bool {
	return optimizationLevelTypeHelper.IsValid(ol)
}

// Values returns all possible optimization level values
func (ol OptimizationLevelType) Values() []OptimizationLevelType {
	return optimizationLevelTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:701</h2>
<pre>func (fss FileSelectionStrategyType) String() string {
	return fileSelectionStrategyTypeHelper.String(fss)
}

// IsValid checks if file selection strategy is valid
func (fss FileSelectionStrategyType) IsValid() bool {
	return fileSelectionStrategyTypeHelper.IsValid(fss)
}

// Values returns all possible file selection strategy values
func (fss FileSelectionStrategyType) Values() []FileSelectionStrategyType {
	return fileSelectionStrategyTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:731</h2>
<pre>func (st ScanTypeType) String() string {
	return scanTypeHelper.String(st)
}

// IsValid checks if scan type is valid
func (st ScanTypeType) IsValid() bool {
	return scanTypeHelper.IsValid(st)
}

// Values returns all possible values
func (st ScanTypeType) Values() []ScanTypeType {
	return scanTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:784</h2>
<pre>func (sl SafetyLevelType) String() string {
	return safetyLevelTypeHelper.String(sl)
}

// IsValid checks if safety level is valid
func (sl SafetyLevelType) IsValid() bool {
	return safetyLevelTypeHelper.IsValid(sl)
}

// Values returns all possible safety level values
func (sl SafetyLevelType) Values() []SafetyLevelType {
	return safetyLevelTypeHelper.Values()
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:837</h2>
<pre>func (em ExecutionModeType) String() string {
	return executionModeTypeHelper.String(em)
}

// IsValid checks if execution mode is valid
func (em ExecutionModeType) IsValid() bool {
	return executionModeTypeHelper.IsValid(em)
}

// Values returns all possible execution mode values
func (em ExecutionModeType) Values() []ExecutionModeType {
	return executionModeTypeHelper.Values()
}</pre>
<h1>#172 found 2 clones</h1>
<h2>internal/shared/errors/errors_test.go:89</h2>
<pre>                                 {
	err := NewErrorf(ErrCodeInvalidGeneration, "Generation %d is invalid", 5)

	require.NotNil(t, err)
	assert.Equal(t, "Generation 5 is invalid", err.Message)
}</pre>
<h2>internal/shared/errors/errors_test.go:277</h2>
<pre>                                         {
	err := DomainErrorf(ErrCodeInvalidGeneration, "generation %d", 5)

	require.NotNil(t, err)
	assert.Equal(t, "generation 5", err.Message)
}</pre>
<h1>#173 found 4 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:155</h2>
<pre>if cmdResult.IsErr() {
	return result.Err[shared.CleanResult](cmdResult.Error())
}</pre>
<h2>internal/infrastructure/cleaners/nix.go:128</h2>
<pre>if genResult.IsErr() {
	return result.Err[shared.CleanResult](genResult.Error())
}</pre>
<h2>internal/infrastructure/cleaners/npm.go:117</h2>
<pre>if cmdResult.IsErr() {
	return result.Err[shared.CleanResult](cmdResult.Error())
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:110</h2>
<pre>if cmdResult.IsErr() {
	return result.Err[shared.CleanResult](cmdResult.Error())
}</pre>
<h1>#174 found 2 clones</h1>
<h2>internal/shared/errors/errors_test.go:387</h2>
<pre>for severity, expected := range tests {
	assert.Equal(t, expected, severity.String(),
		"Severity %d should return %s", int(severity), expected)
}</pre>
<h2>internal/shared/errors/errors_test.go:404</h2>
<pre>for errorType, expected := range tests {
	assert.Equal(t, expected, errorType.String(),
		"ErrorType %d should return %s", int(errorType), expected)
}</pre>
<h1>#175 found 2 clones</h1>
<h2>internal/interface/api/mapper.go:78</h2>
<pre>Settings: OperationSettings{
	ExecutionMode:       shared.ExecutionModeDryRun, // Default safe mode
	Verbose:             false,
	TimeoutSeconds:      300, // 5 minutes default
	ConfirmBeforeDelete: true,
}</pre>
<h2>internal/interface/api/mapper_test.go:30</h2>
<pre>Settings: OperationSettings{
	ExecutionMode:       domain.ExecutionModeExecute, // FIXED: Use ExecutionMode, not DryRun
	Verbose:             true,
	TimeoutSeconds:      300,
	ConfirmBeforeDelete: false,
}</pre>
<h1>#176 found 28 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:127</h2>
<pre>func (rl RiskLevelType) String() string {
	return riskLevelHelper.String(rl)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:132</h2>
<pre>func (rl RiskLevelType) IsValid() bool {
	return riskLevelHelper.IsValid(rl)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:176</h2>
<pre>func (on OperationNameType) String() string {
	return operationNameHelper.String(on)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:181</h2>
<pre>func (on OperationNameType) IsValid() bool {
	return operationNameHelper.IsValid(on)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:245</h2>
<pre>func (vl ValidationLevelType) String() string {
	return validationLevelHelper.String(vl)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:250</h2>
<pre>func (vl ValidationLevelType) IsValid() bool {
	return validationLevelHelper.IsValid(vl)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:301</h2>
<pre>func (co ChangeOperationType) String() string {
	return changeOperationHelper.String(co)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:306</h2>
<pre>func (co ChangeOperationType) IsValid() bool {
	return changeOperationHelper.IsValid(co)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:355</h2>
<pre>func (cs CleanStrategyType) String() string {
	return cleanStrategyHelper.String(cs)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:360</h2>
<pre>func (cs CleanStrategyType) IsValid() bool {
	return cleanStrategyHelper.IsValid(cs)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:433</h2>
<pre>func (s StatusType) String() string {
	return statusTypeHelper.String(s)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:438</h2>
<pre>func (s StatusType) IsValid() bool {
	return statusTypeHelper.IsValid(s)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:486</h2>
<pre>func (el EnforcementLevelType) String() string {
	return enforcementLevelTypeHelper.String(el)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:491</h2>
<pre>func (el EnforcementLevelType) IsValid() bool {
	return enforcementLevelTypeHelper.IsValid(el)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:537</h2>
<pre>func (ss SelectedStatusType) String() string {
	return selectedStatusTypeHelper.String(ss)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:542</h2>
<pre>func (ss SelectedStatusType) IsValid() bool {
	return selectedStatusTypeHelper.IsValid(ss)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:599</h2>
<pre>func (rl RecursionLevelType) String() string {
	return recursionLevelTypeHelper.String(rl)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:604</h2>
<pre>func (rl RecursionLevelType) IsValid() bool {
	return recursionLevelTypeHelper.IsValid(rl)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:650</h2>
<pre>func (ol OptimizationLevelType) String() string {
	return optimizationLevelTypeHelper.String(ol)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:655</h2>
<pre>func (ol OptimizationLevelType) IsValid() bool {
	return optimizationLevelTypeHelper.IsValid(ol)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:701</h2>
<pre>func (fss FileSelectionStrategyType) String() string {
	return fileSelectionStrategyTypeHelper.String(fss)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:706</h2>
<pre>func (fss FileSelectionStrategyType) IsValid() bool {
	return fileSelectionStrategyTypeHelper.IsValid(fss)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:731</h2>
<pre>func (st ScanTypeType) String() string {
	return scanTypeHelper.String(st)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:736</h2>
<pre>func (st ScanTypeType) IsValid() bool {
	return scanTypeHelper.IsValid(st)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:784</h2>
<pre>func (sl SafetyLevelType) String() string {
	return safetyLevelTypeHelper.String(sl)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:789</h2>
<pre>func (sl SafetyLevelType) IsValid() bool {
	return safetyLevelTypeHelper.IsValid(sl)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:837</h2>
<pre>func (em ExecutionModeType) String() string {
	return executionModeTypeHelper.String(em)
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:842</h2>
<pre>func (em ExecutionModeType) IsValid() bool {
	return executionModeTypeHelper.IsValid(em)
}</pre>
<h1>#177 found 2 clones</h1>
<h2>internal/shared/errors/errors_test.go:301</h2>
<pre>t.Run("PermissionError", func(t *testing.T) {
	err := PermissionError("/tmp/file")

	require.NotNil(t, err)
	assert.Equal(t, ErrCodePermissionDenied, err.Code)
	assert.Contains(t, err.Message, "/tmp/file")
})</pre>
<h2>internal/shared/errors/errors_test.go:309</h2>
<pre>t.Run("FileNotFoundError", func(t *testing.T) {
	err := FileNotFoundError("/tmp/missing")

	require.NotNil(t, err)
	assert.Equal(t, ErrCodeFileNotFound, err.Code)
	assert.Contains(t, err.Message, "/tmp/missing")
})</pre>
<h1>#178 found 2 clones</h1>
<h2>test/nix.go:14</h2>
<pre>{ID: 300, Path: "/nix/var/nix/profiles/default-300-link", Date: now.Add(-24 * time.Hour), Status: shared.SelectedStatusSelected},
{ID: 299, Path: "/nix/var/nix/profiles/default-299-link", Date: now.Add(-48 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 298, Path: "/nix/var/nix/profiles/default-298-link", Date: now.Add(-72 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 297, Path: "/nix/var/nix/profiles/default-297-link", Date: now.Add(-96 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h2>test/nix.go:15</h2>
<pre>{ID: 299, Path: "/nix/var/nix/profiles/default-299-link", Date: now.Add(-48 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 298, Path: "/nix/var/nix/profiles/default-298-link", Date: now.Add(-72 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 297, Path: "/nix/var/nix/profiles/default-297-link", Date: now.Add(-96 * time.Hour), Status: shared.SelectedStatusNotSelected},
{ID: 296, Path: "/nix/var/nix/profiles/default-296-link", Date: now.Add(-120 * time.Hour), Status: shared.SelectedStatusNotSelected}</pre>
<h1>#179 found 2 clones</h1>
<h2>internal/application/config/safe_test.go:173</h2>
<pre>if tt.expectError {
	if err == nil {
		t.Error("expected error but got none")
		return
	}
	if tt.errorMsg != "" && !contains(err.Error(), tt.errorMsg) {
		t.Errorf("expected error message to contain %q, got %q", tt.errorMsg, err.Error())
	}
	return
}</pre>
<h2>test/config/safe_test.go:172</h2>
<pre>if tt.expectError {
	if err == nil {
		t.Error("expected error but got none")
		return
	}
	if tt.errorMsg != "" && !contains(err.Error(), tt.errorMsg) {
		t.Errorf("expected error message to contain %q, got %q", tt.errorMsg, err.Error())
	}
	return
}</pre>
<h1>#180 found 2 clones</h1>
<h2>internal/infrastructure/system/http_client.go:126</h2>
<pre>func (hr *HTTPResponse) IsSuccess() bool {
	return hr.StatusCode >= 200 && hr.StatusCode < 300
}

// IsError returns true if status code indicates error (4xx, 5xx)
func (hr *HTTPResponse) IsError() bool {
	return hr.StatusCode >= 400
}</pre>
<h2>internal/infrastructure/system/http_client.go:136</h2>
<pre>func (hr *HTTPResponse) IsClientError() bool {
	return hr.StatusCode >= 400 && hr.StatusCode < 500
}

// IsServerError returns true if status code indicates server error (5xx)
func (hr *HTTPResponse) IsServerError() bool {
	return hr.StatusCode >= 500
}</pre>
<h1>#181 found 2 clones</h1>
<h2>internal/interface/api/mapper_test.go:288</h2>
<pre>if domainRequest.Items[0].ScanType != domain.ScanTypeTempType {
	t.Errorf("Expected ScanTypeTemp, got %v", domainRequest.Items[0].ScanType)
}

if domainRequest.Items[0].Path != "temp-files" {
	t.Errorf("Expected temp-files path, got %s", domainRequest.Items[0].Path)
}</pre>
<h2>internal/interface/api/mapper_test.go:297</h2>
<pre>if domainRequest.Items[1].ScanType != domain.ScanTypeTempType {
	t.Errorf("Expected ScanTypeTemp for cache-files, got %v", domainRequest.Items[1].ScanType)
}

if domainRequest.Items[1].Path != "cache-files" {
	t.Errorf("Expected cache-files path, got %s", domainRequest.Items[1].Path)
}</pre>
<h1>#182 found 2 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:96</h2>
<pre>if autoremoveResult.IsOk() {
	result := autoremoveResult.Value()
	totalFreed += result.FreedBytes
	totalRemoved += result.ItemsRemoved
	totalFailed += result.ItemsFailed
} else {
	totalFailed++
	if hc.verbose {
		fmt.Printf("⚠️  Autoremove failed: %v\n", autoremoveResult.Error())
	}
}</pre>
<h2>internal/infrastructure/cleaners/homebrew.go:113</h2>
<pre>if cleanupResult.IsOk() {
	result := cleanupResult.Value()
	totalFreed += result.FreedBytes
	totalRemoved += result.ItemsRemoved
	totalFailed += result.ItemsFailed
} else {
	totalFailed++
	if hc.verbose {
		fmt.Printf("⚠️  Cleanup failed: %v\n", cleanupResult.Error())
	}
}</pre>
<h1>#183 found 2 clones</h1>
<h2>internal/shared/errors/filesystem_integration_test.go:24</h2>
<pre>{
	name:         "File not found",
	error:        &os.PathError{Err: os.ErrNotExist, Path: "/tmp/missing"},
	expectedCode: ErrCodeFileNotFound,
	expectedType: ErrorTypeFileSystem,
},
{
	name:         "Permission denied",
	error:        &os.PathError{Err: os.ErrPermission, Path: "/etc/shadow"},
	expectedCode: ErrCodePermissionError,
	expectedType: ErrorTypePermission,
}</pre>
<h2>internal/shared/errors/filesystem_integration_test.go:30</h2>
<pre>{
	name:         "Permission denied",
	error:        &os.PathError{Err: os.ErrPermission, Path: "/etc/shadow"},
	expectedCode: ErrCodePermissionError,
	expectedType: ErrorTypePermission,
},
{
	name:         "Disk full",
	error:        &os.PathError{Err: syscall.ENOSPC, Path: "/tmp/full"},
	expectedCode: ErrCodeDiskFull,
	expectedType: ErrorTypeFileSystem,
}</pre>
<h1>#184 found 2 clones</h1>
<h2>internal/interface/api/mapper_test.go:643</h2>
<pre>if err == nil {
	t.Errorf("Expected error containing '%s', got nil", tc.errorContains)
	return
}</pre>
<h2>test/validation/duration_parser_test.go:122</h2>
<pre>if err == nil {
	t.Errorf("Expected error for input '%s', but got none", tt.input)
	return
}</pre>
<h1>#185 found 4 clones</h1>
<h2>internal/shared/errors/centralized.go:192</h2>
<pre>func (eb *ErrorBuilder) WithMessage(message string) *ErrorBuilder {
	eb.cwErr.Message = message
	return eb
}</pre>
<h2>internal/shared/errors/centralized.go:204</h2>
<pre>func (eb *ErrorBuilder) WithDetails(details any) *ErrorBuilder {
	eb.cwErr.Details = details
	return eb
}</pre>
<h2>internal/shared/errors/centralized.go:210</h2>
<pre>func (eb *ErrorBuilder) WithCause(cause error) *ErrorBuilder {
	eb.cwErr.Cause = cause
	return eb
}</pre>
<h2>internal/shared/errors/centralized.go:216</h2>
<pre>func (eb *ErrorBuilder) WithSeverity(severity ErrorSeverity) *ErrorBuilder {
	eb.cwErr.Severity = severity
	return eb
}</pre>
<h1>#186 found 2 clones</h1>
<h2>test/validation/duration_parser_test.go:249</h2>
<pre>{
	name:     "1 minute 30 seconds",
	input:    1*time.Minute + 30*time.Second,
	expected: "1m30s",
},
{
	name:     "30 minutes 30 seconds",
	input:    30*time.Minute + 30*time.Second,
	expected: "30m30s",
},
{
	name:     "59 minutes 30 seconds",
	input:    59*time.Minute + 30*time.Second,
	expected: "59m30s",
}</pre>
<h2>test/validation/duration_parser_test.go:283</h2>
<pre>{
	name:     "1 hour 30 minutes",
	input:    1*time.Hour + 30*time.Minute,
	expected: "1h30m0s",
},
{
	name:     "12 hours 30 minutes",
	input:    12*time.Hour + 30*time.Minute,
	expected: "12h30m0s",
},
{
	name:     "23 hours 30 minutes",
	input:    23*time.Hour + 30*time.Minute,
	expected: "23h30m0s",
}</pre>
<h1>#187 found 4 clones</h1>
<h2>internal/application/config/safe_test.go:25</h2>
<pre>tests := []struct {
	name     string
	level    shared.RiskLevel
	expected string
}{
	{"low risk", shared.RiskLow, "LOW"},
	{"medium risk", shared.RiskMedium, "MEDIUM"},
	{"high risk", shared.RiskHigh, "HIGH"},
	{"critical risk", shared.RiskCritical, "CRITICAL"},
	{"unknown risk", testInvalidRiskUnknown, "UNKNOWN"},
}</pre>
<h2>internal/application/config/safe_test.go:50</h2>
<pre>tests := []struct {
	name     string
	level    shared.RiskLevel
	expected string
}{
	{"low risk", shared.RiskLow, "🟢"},
	{"medium risk", shared.RiskMedium, "🟡"},
	{"high risk", shared.RiskHigh, "🟠"},
	{"critical risk", shared.RiskCritical, "🔴"},
	{"unknown risk", testInvalidRiskUnknown, "⚪"},
}</pre>
<h2>test/config/safe_test.go:24</h2>
<pre>tests := []struct {
	name     string
	level    shared.RiskLevel
	expected string
}{
	{"low risk", shared.RiskLow, "LOW"},
	{"medium risk", shared.RiskMedium, "MEDIUM"},
	{"high risk", shared.RiskHigh, "HIGH"},
	{"critical risk", shared.RiskCritical, "CRITICAL"},
	{"unknown risk", testInvalidRiskUnknown, "UNKNOWN"},
}</pre>
<h2>test/config/safe_test.go:49</h2>
<pre>tests := []struct {
	name     string
	level    shared.RiskLevel
	expected string
}{
	{"low risk", shared.RiskLow, "🟢"},
	{"medium risk", shared.RiskMedium, "🟡"},
	{"high risk", shared.RiskHigh, "🟠"},
	{"critical risk", shared.RiskCritical, "🔴"},
	{"unknown risk", testInvalidRiskUnknown, "⚪"},
}</pre>
<h1>#188 found 2 clones</h1>
<h2>internal/domain/shared/interfaces.go:21</h2>
<pre>CleanOldGenerations(ctx context.Context, keepCount int) CleanResult</pre>
<h2>internal/domain/shared/interfaces.go:33</h2>
<pre>Scan(ctx context.Context, req ScanRequest) ScanResult</pre>
<h1>#189 found 2 clones</h1>
<h2>internal/shared/errors/adapters.go:64</h2>
<pre>if os.IsNotExist(err) {
	return NewError(ErrCodeFileNotFound,
		"File or directory not found").WithCause(err).WithCaller()
}</pre>
<h2>internal/shared/errors/adapters.go:69</h2>
<pre>if os.IsPermission(err) {
	return NewError(ErrCodePermissionError,
		"Permission denied").WithCause(err).WithCaller()
}</pre>
<h1>#190 found 2 clones</h1>
<h2>test/config/semver_validation_test.go:80</h2>
<pre>t.Run("Invalid semver version", func(t *testing.T) {
	cfg := factories.CreateSemverTestConfig("invalid.version.format")
	result := cv.ValidateConfig(cfg)
	assertValidationErrorForField(t, result, "version", "semver_format")
})</pre>
<h2>test/config/semver_validation_test.go:86</h2>
<pre>t.Run("Missing version", func(t *testing.T) {
	cfg := factories.CreateSemverTestConfig("")
	result := cv.ValidateConfig(cfg)
	assertValidationErrorForField(t, result, "version", "required")
})</pre>
<h1>#191 found 6 clones</h1>
<h2>internal/application/config/type_safe_validation_rules_test.go:131</h2>
<pre>if *original.MaxDiskUsage.Min == *copied.MaxDiskUsage.Min {
	t.Error("FAILED: modified copied.MaxDiskUsage.Min affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:134</h2>
<pre>if *original.MaxDiskUsage.Max == *copied.MaxDiskUsage.Max {
	t.Error("FAILED: modified copied.MaxDiskUsage.Max affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:146</h2>
<pre>if *original.MinProtectedPaths.Min == *copied.MinProtectedPaths.Min {
	t.Error("FAILED: modified copied.MinProtectedPaths.Min affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:149</h2>
<pre>if *original.MinProtectedPaths.Max == *copied.MinProtectedPaths.Max {
	t.Error("FAILED: modified copied.MinProtectedPaths.Max affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:161</h2>
<pre>if *original.MaxProfiles.Min == *copied.MaxProfiles.Min {
	t.Error("FAILED: modified copied.MaxProfiles.Min affected original")
}</pre>
<h2>internal/application/config/type_safe_validation_rules_test.go:164</h2>
<pre>if *original.MaxProfiles.Max == *copied.MaxProfiles.Max {
	t.Error("FAILED: modified copied.MaxProfiles.Max affected original")
}</pre>
<h1>#192 found 2 clones</h1>
<h2>internal/infrastructure/system/errors.go:26</h2>
<pre>func ErrTimeout(operation string) error {
	return fmt.Errorf("operation timeout: %s", operation)
}

// ErrRateLimit creates a rate limit error
func ErrRateLimit(limit float64) error {
	return fmt.Errorf("rate limit exceeded: %.2f requests/second", limit)
}

// ErrCacheMiss creates a cache miss error
func ErrCacheMiss(key string) error {
	return fmt.Errorf("cache miss: key '%s' not found", key)
}

// ErrHTTPError creates an HTTP error
func ErrHTTPError(statusCode int, message string) error {
	return fmt.Errorf("HTTP error %d: %s", statusCode, message)
}</pre>
<h2>internal/shared/errors/errors.go:8</h2>
<pre>func ConfigLoadError(err error) error {
	return fmt.Errorf("config load error: %w", err)
}

// ConfigSaveError creates a configuration saving error
func ConfigSaveError(err error) error {
	return fmt.Errorf("config save error: %w", err)
}

// ConfigValidateError creates a configuration validation error
func ConfigValidateError(message string) error {
	return fmt.Errorf("config validation error: %s", message)
}

// CleanOperationError creates a cleaning operation error
func CleanOperationError(operation string, err error) error {
	return fmt.Errorf("clean operation '%s' failed: %w", operation, err)
}</pre>
<h1>#193 found 2 clones</h1>
<h2>test/config/integration_test.go:107</h2>
<pre>t.Logf("  - Validation: %d errors, %d warnings", len(validationResult.Errors), len(validationResult.Warnings))</pre>
<h2>test/config/integration_test.go:109</h2>
<pre>t.Logf("  - Post-validation: %d errors, %d warnings", len(postValidationResult.Errors), len(postValidationResult.Warnings))</pre>
<h1>#194 found 2 clones</h1>
<h2>test/domain/enum_helper_test.go:145</h2>
<pre>{
	name:     "CleanStrategy lowercase",
	data:     `"conservative"`,
	expected: func() any { return StrategyConservativeType },
}</pre>
<h2>test/domain/enum_helper_test.go:150</h2>
<pre>{
	name:     "ScanType mixed case",
	data:     `"homebrew"`,
	expected: func() any { return ScanTypeHomebrewType },
}</pre>
<h1>#195 found 2 clones</h1>
<h2>internal/domain/validation/duration_parser.go:22</h2>
<pre>                 {
	// Only format as "Xm" if exact multiple of minutes
	if d%time.Minute == 0 {
		minutes := int(d.Minutes())
		return fmt.Sprintf("%dm", minutes)
	}
	return d.String()
}</pre>
<h2>internal/domain/validation/duration_parser.go:31</h2>
<pre>                    {
	// Only format as "Xh" if exact multiple of hours
	if d%time.Hour == 0 {
		hours := int(d.Hours())
		return fmt.Sprintf("%dh", hours)
	}
	return d.String()
}</pre>
<h1>#196 found 4 clones</h1>
<h2>internal/interface/api/mapper_test.go:46</h2>
<pre>if domainConfigResult.IsErr() {
	err, _ := domainConfigResult.SafeError()
	t.Fatalf("Expected successful mapping, got error: %v", err)
}</pre>
<h2>internal/interface/api/mapper_test.go:151</h2>
<pre>if publicConfigResult.IsErr() {
	err, _ := publicConfigResult.SafeError()
	t.Fatalf("Expected successful mapping, got error: %v", err)
}</pre>
<h2>internal/interface/api/mapper_test.go:202</h2>
<pre>if publicResultResult.IsErr() {
	err, _ := publicResultResult.SafeError()
	t.Fatalf("Expected successful mapping, got error: %v", err)
}</pre>
<h2>internal/interface/api/mapper_test.go:267</h2>
<pre>if domainRequestResult.IsErr() {
	err, _ := domainRequestResult.SafeError()
	t.Fatalf("Expected successful mapping, got error: %v", err)
}</pre>
<h1>#197 found 2 clones</h1>
<h2>internal/shared/utils/format/format_test.go:61</h2>
<pre>tests := []struct {
	name     string
	t        time.Time
	expected string
}{
	{"valid date", time.Date(2023, 12, 25, 10, 30, 45, 0, time.UTC), "2023-12-25"},
	{"zero time", time.Time{}, "never"},
	{"unix epoch", time.Unix(0, 0), "1970-01-01"},
}</pre>
<h2>internal/shared/utils/format/format_test.go:82</h2>
<pre>tests := []struct {
	name     string
	t        time.Time
	expected string
}{
	{
		"valid datetime",
		time.Date(2023, 12, 25, 10, 30, 45, 0, time.UTC),
		"2023-12-25 15:30:45", // Note: depends on local timezone
	},
	{"zero time", time.Time{}, "never"},
	{"unix epoch", time.Unix(0, 0), "1970-01-01 00:00:00"},
}</pre>
<h1>#198 found 4 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:136</h2>
<pre>if e.Details.Field != "" {
	details = append(details, fmt.Sprintf("field=%s", e.Details.Field))
}
if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:139</h2>
<pre>if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:142</h2>
<pre>if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:145</h2>
<pre>if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}
if e.Details.Duration != "" {
	details = append(details, fmt.Sprintf("duration=%s", e.Details.Duration))
}</pre>
<h1>#199 found 2 clones</h1>
<h2>internal/shared/errors/centralized.go:124</h2>
<pre>func ValidationError(field, message string) *CleanWizardError {
	return NewErrorf(ErrCodeValidationFailed, "Field '%s': %s", field, message).WithCaller()
}</pre>
<h2>internal/shared/errors/centralized.go:149</h2>
<pre>func SystemError(component, message string) *CleanWizardError {
	return NewErrorf(ErrCodeProcessFailed, "System component '%s': %s", component, message).WithCaller()
}</pre>
<h1>#200 found 3 clones</h1>
<h2>internal/infrastructure/cleaners/npm.go:153</h2>
<pre>func (nc *NpmCleaner) simulateCleanupCommand() result.Result[shared.CleanResult] {
	if nc.verbose {
		fmt.Println("🔍 DRY RUN: npm cache clean --force")
	}

	// Simulate typical npm cache cleanup results
	var itemsRemoved uint = 1                 // Cache directory
	var bytesFreed uint64 = 150 * 1024 * 1024 // 150MB estimate for npm cache

	simulateResult := shared.CleanResult{
		FreedBytes:   bytesFreed,
		ItemsRemoved: itemsRemoved,
		ItemsFailed:  0,
		CleanTime:    0,
		CleanedAt:    time.Now(),
		Strategy:     shared.StrategyDryRun,
	}

	return result.Ok(simulateResult)
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:154</h2>
<pre>func (pc *PnpmCleaner) simulateCleanupCommand() result.Result[shared.CleanResult] {
	if pc.verbose {
		fmt.Println("🔍 DRY RUN: pnpm store prune")
	}

	// Simulate typical pnpm store cleanup results
	var itemsRemoved uint = 1                 // Store directory
	var bytesFreed uint64 = 200 * 1024 * 1024 // 200MB estimate

	simulateResult := shared.CleanResult{
		FreedBytes:   bytesFreed,
		ItemsRemoved: itemsRemoved,
		ItemsFailed:  0,
		CleanTime:    0,
		CleanedAt:    time.Now(),
		Strategy:     shared.StrategyDryRun,
	}

	return result.Ok(simulateResult)
}</pre>
<h2>internal/infrastructure/cleaners/temp_files.go:143</h2>
<pre>func (tfc *TempFileCleaner) simulateCleanupCommand() result.Result[shared.CleanResult] {
	if tfc.verbose {
		fmt.Println("🔍 DRY RUN: Temporary file cleanup")
	}

	// Simulate typical temp file cleanup results
	var itemsRemoved uint = 5                 // Multiple temp files and directories
	var bytesFreed uint64 = 250 * 1024 * 1024 // 250MB estimate

	simulateResult := shared.CleanResult{
		FreedBytes:   bytesFreed,
		ItemsRemoved: itemsRemoved,
		ItemsFailed:  0,
		CleanTime:    0,
		CleanedAt:    time.Now(),
		Strategy:     shared.StrategyDryRun,
	}

	return result.Ok(simulateResult)
}</pre>
<h1>#201 found 2 clones</h1>
<h2>internal/domain/shared/operation_settings.go:43</h2>
<pre>type SystemTempSettings struct {
	OlderThan string   `json:"older_than,omitempty"` // Duration string (e.g., "7d", "24h")
	Excludes  []string `json:"excludes,omitempty"`   // Paths to exclude
	Paths     []string `json:"paths,omitempty"`      // Additional paths to clean
}</pre>
<h2>internal/interface/api/types.go:87</h2>
<pre>type PublicValidationResult struct {
	Valid    bool     `json:"valid"`
	Errors   []string `json:"errors"`
	Warnings []string `json:"warnings,omitempty"`
}</pre>
<h1>#202 found 4 clones</h1>
<h2>test/domain/enum_helper_test.go:47</h2>
<pre>func TestValidationLevelType_Helper(t *testing.T) {
	// Test String()
	if ValidationLevelStrictType.String() != "STRICT" {
		t.Errorf("ValidationLevelStrictType.String() = %q, want %q", ValidationLevelStrictType.String(), "STRICT")
	}

	// Test IsValid()
	if !ValidationLevelNoneType.IsValid() {
		t.Error("ValidationLevelNoneType.IsValid() = false, want true")
	}

	level := ValidationLevelType(999)
	if level.IsValid() {
		t.Error("Invalid ValidationLevelType.IsValid() = true, want false")
	}

	// Test Values()
	values := ValidationLevelNoneType.Values()
	if len(values) != 4 {
		t.Errorf("ValidationLevelType.Values() = %d, want 4", len(values))
	}
}</pre>
<h2>test/domain/enum_helper_test.go:70</h2>
<pre>func TestChangeOperationType_Helper(t *testing.T) {
	// Test String()
	if ChangeOperationAddedType.String() != "ADDED" {
		t.Errorf("ChangeOperationAddedType.String() = %q, want %q", ChangeOperationAddedType.String(), "ADDED")
	}

	// Test IsValid()
	if !ChangeOperationRemovedType.IsValid() {
		t.Error("ChangeOperationRemovedType.IsValid() = false, want true")
	}

	op := ChangeOperationType(999)
	if op.IsValid() {
		t.Error("Invalid ChangeOperationType.IsValid() = true, want false")
	}

	// Test Values()
	values := ChangeOperationAddedType.Values()
	if len(values) != 3 {
		t.Errorf("ChangeOperationType.Values() = %d, want 3", len(values))
	}
}</pre>
<h2>test/domain/enum_helper_test.go:93</h2>
<pre>func TestCleanStrategyType_Helper(t *testing.T) {
	// Test String()
	if StrategyAggressiveType.String() != "aggressive" {
		t.Errorf("StrategyAggressiveType.String() = %q, want %q", StrategyAggressiveType.String(), "aggressive")
	}

	// Test IsValid()
	if !StrategyDryRunType.IsValid() {
		t.Error("StrategyDryRunType.IsValid() = false, want true")
	}

	strategy := CleanStrategyType(999)
	if strategy.IsValid() {
		t.Error("Invalid CleanStrategyType.IsValid() = true, want false")
	}

	// Test Values()
	values := StrategyConservativeType.Values()
	if len(values) != 3 {
		t.Errorf("CleanStrategyType.Values() = %d, want 3", len(values))
	}
}</pre>
<h2>test/domain/enum_helper_test.go:116</h2>
<pre>func TestScanTypeType_Helper(t *testing.T) {
	// Test String()
	if ScanTypeNixStoreType.String() != "nix_store" {
		t.Errorf("ScanTypeNixStoreType.String() = %q, want %q", ScanTypeNixStoreType.String(), "nix_store")
	}

	// Test IsValid()
	if !ScanTypeHomebrewType.IsValid() {
		t.Error("ScanTypeHomebrewType.IsValid() = false, want true")
	}

	scan := ScanTypeType(999)
	if scan.IsValid() {
		t.Error("Invalid ScanTypeType.IsValid() = true, want false")
	}

	// Test Values()
	values := ScanTypeSystemType.Values()
	if len(values) != 4 {
		t.Errorf("ScanTypeType.Values() = %d, want 4", len(values))
	}
}</pre>
<h1>#203 found 2 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:206</h2>
<pre>func (rl RiskLevelType) IsHigherThan(other RiskLevelType) bool {
	return rl > other
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:211</h2>
<pre>func (rl RiskLevelType) IsHigherOrEqualThan(other RiskLevelType) bool {
	return rl >= other
}</pre>
<h1>#204 found 2 clones</h1>
<h2>internal/shared/errors/errors_test.go:292</h2>
<pre>t.Run("ValidationError", func(t *testing.T) {
	err := ValidationError("email", "invalid format")

	require.NotNil(t, err)
	assert.Equal(t, ErrCodeValidationFailed, err.Code)
	assert.Contains(t, err.Message, "email")
	assert.Contains(t, err.Message, "invalid format")
})</pre>
<h2>internal/shared/errors/errors_test.go:327</h2>
<pre>t.Run("SystemError", func(t *testing.T) {
	err := SystemError("memory", "out of memory")

	require.NotNil(t, err)
	assert.Equal(t, ErrCodeProcessFailed, err.Code)
	assert.Contains(t, err.Message, "memory")
	assert.Contains(t, err.Message, "out of memory")
})</pre>
<h1>#205 found 2 clones</h1>
<h2>internal/infrastructure/system/errors.go:41</h2>
<pre>func ErrHTTPError(statusCode int, message string) error {
	return fmt.Errorf("HTTP error %d: %s", statusCode, message)
}

// ErrNotImplemented creates a not implemented error
func ErrNotImplemented(feature string) error {
	return fmt.Errorf("feature not implemented: %s", feature)
}</pre>
<h2>internal/shared/errors/errors.go:28</h2>
<pre>func ScanOperationError(scanner string, err error) error {
	return fmt.Errorf("scan operation '%s' failed: %w", scanner, err)
}

// SafetyError creates a safety check error
func SafetyError(message string) error {
	return fmt.Errorf("safety check failed: %s", message)
}</pre>
<h1>#206 found 3 clones</h1>
<h2>test/domain/benchmarks_test.go:11</h2>
<pre>b.Run("RiskLevel", func(b *testing.B) {
	levels := []RiskLevelType{RiskLow, RiskMedium, RiskHigh, RiskCritical}
	b.ResetTimer()
	for i := 0; b.Loop(); i++ {
		_ = levels[i%len(levels)].String()
	}
})</pre>
<h2>test/domain/benchmarks_test.go:27</h2>
<pre>b.Run("ScanType", func(b *testing.B) {
	types := []ScanTypeType{ScanTypeNixStoreType, ScanTypeHomebrewType, ScanTypeSystemType, ScanTypeTempType}
	b.ResetTimer()
	for i := 0; b.Loop(); i++ {
		_ = types[i%len(types)].String()
	}
})</pre>
<h2>test/domain/benchmarks_test.go:38</h2>
<pre>b.Run("RiskLevel", func(b *testing.B) {
	levels := []RiskLevelType{RiskLow, RiskMedium, RiskHigh, RiskCritical}
	b.ResetTimer()
	for i := 0; b.Loop(); i++ {
		_ = levels[i%len(levels)].IsValid()
	}
})</pre>
<h1>#207 found 2 clones</h1>
<h2>test/domain/cleanresult_test.go:57</h2>
<pre>{
	name: "Invalid CleanResult - zero freed bytes with items removed",
	result: CleanResult{
		FreedBytes:   0,
		ItemsRemoved: 1,
		ItemsFailed:  0,
		CleanTime:    time.Second,
		CleanedAt:    time.Now(),
		Strategy:     StrategyAggressive,
	},
	shouldValid: false,
	shouldError: true,
	errorMsg:    "cannot have zero FreedBytes when ItemsRemoved is > 0",
}</pre>
<h2>test/domain/cleanresult_test.go:71</h2>
<pre>{
	name: "Invalid CleanResult - failed items with no freed bytes",
	result: CleanResult{
		FreedBytes:   0,
		ItemsRemoved: 0,
		ItemsFailed:  5,
		CleanTime:    time.Second,
		CleanedAt:    time.Now(),
		Strategy:     StrategyConservative,
	},
	shouldValid: false,
	shouldError: true,
	errorMsg:    "cannot have failed items when no items were processed",
}</pre>
<h1>#208 found 8 clones</h1>
<h2>internal/shared/utils/pkg/errors/errors.go:136</h2>
<pre>if e.Details.Field != "" {
	details = append(details, fmt.Sprintf("field=%s", e.Details.Field))
}
if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:139</h2>
<pre>if e.Details.Value != "" {
	details = append(details, fmt.Sprintf("value=%s", e.Details.Value))
}
if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:142</h2>
<pre>if e.Details.Expected != "" {
	details = append(details, fmt.Sprintf("expected=%s", e.Details.Expected))
}
if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:145</h2>
<pre>if e.Details.Actual != "" {
	details = append(details, fmt.Sprintf("actual=%s", e.Details.Actual))
}
if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:148</h2>
<pre>if e.Details.Operation != "" {
	details = append(details, fmt.Sprintf("operation=%s", e.Details.Operation))
}
if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:151</h2>
<pre>if e.Details.FilePath != "" {
	details = append(details, fmt.Sprintf("file=%s", e.Details.FilePath))
}
if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:154</h2>
<pre>if e.Details.LineNumber > 0 {
	details = append(details, fmt.Sprintf("line=%d", e.Details.LineNumber))
}
if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:157</h2>
<pre>if e.Details.RetryCount > 0 {
	details = append(details, fmt.Sprintf("retries=%d", e.Details.RetryCount))
}
if e.Details.Duration != "" {
	details = append(details, fmt.Sprintf("duration=%s", e.Details.Duration))
}</pre>
<h1>#209 found 2 clones</h1>
<h2>internal/application/config/type_safe_validation_rules.go:129</h2>
<pre>if rule.Min != nil {
	min := *rule.Min
	copied.Min = &min
}</pre>
<h2>internal/application/config/type_safe_validation_rules.go:133</h2>
<pre>if rule.Max != nil {
	max := *rule.Max
	copied.Max = &max
}</pre>
<h1>#210 found 5 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:286</h2>
<pre>var changeOperationHelper = NewEnumHelper(map[ChangeOperationType]string{
	ChangeOperationAddedType:    "ADDED",
	ChangeOperationRemovedType:  "REMOVED",
	ChangeOperationModifiedType: "MODIFIED",
}, func(co ChangeOperationType) bool {
	return co >= ChangeOperationAddedType && co <= ChangeOperationModifiedType
}, func() []ChangeOperationType {
	return []ChangeOperationType{
		ChangeOperationAddedType,
		ChangeOperationRemovedType,
		ChangeOperationModifiedType,
	}
}, true) // case sensitive for change operations

// String returns the string representation
func (co ChangeOperationType) String() string {
	return changeOperationHelper.String(co)
}

// IsValid checks if change operation is valid
func (co ChangeOperationType) IsValid() bool {
	return changeOperationHelper.IsValid(co)
}

// Values returns all possible values
func (co ChangeOperationType) Values() []ChangeOperationType {
	return changeOperationHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (co ChangeOperationType) MarshalJSON() ([]byte, error) {
	return changeOperationHelper.MarshalJSONImpl(co)
}

// UnmarshalJSON implements json.Unmarshaler
func (co *ChangeOperationType) UnmarshalJSON(data []byte) error {
	val, err := changeOperationHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*co = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:340</h2>
<pre>var cleanStrategyHelper = NewEnumHelper(map[CleanStrategyType]string{
	StrategyAggressiveType:   "aggressive",
	StrategyConservativeType: "conservative",
	StrategyDryRunType:       "dry-run",
}, func(cs CleanStrategyType) bool {
	return cs >= StrategyAggressiveType && cs <= StrategyDryRunType
}, func() []CleanStrategyType {
	return []CleanStrategyType{
		StrategyAggressiveType,
		StrategyConservativeType,
		StrategyDryRunType,
	}
}, false) // case insensitive for strategies (accept "dryrun", "dry-run")

// String returns string representation
func (cs CleanStrategyType) String() string {
	return cleanStrategyHelper.String(cs)
}

// IsValid checks if clean strategy is valid
func (cs CleanStrategyType) IsValid() bool {
	return cleanStrategyHelper.IsValid(cs)
}

// Values returns all possible values
func (cs CleanStrategyType) Values() []CleanStrategyType {
	return cleanStrategyHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (cs CleanStrategyType) MarshalJSON() ([]byte, error) {
	return cleanStrategyHelper.MarshalJSONImpl(cs)
}

// UnmarshalJSON implements json.Unmarshaler
func (cs *CleanStrategyType) UnmarshalJSON(data []byte) error {
	val, err := cleanStrategyHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*cs = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:422</h2>
<pre>var statusTypeHelper = NewEnumHelper(map[StatusType]string{
	StatusDisabled:  "disabled",
	StatusEnabled:   "enabled",
	StatusInherited: "inherited",
}, func(s StatusType) bool {
	return s >= StatusDisabled && s <= StatusInherited
}, func() []StatusType {
	return []StatusType{StatusDisabled, StatusEnabled, StatusInherited}
}, false)

// String returns string representation
func (s StatusType) String() string {
	return statusTypeHelper.String(s)
}

// IsValid checks if status is valid
func (s StatusType) IsValid() bool {
	return statusTypeHelper.IsValid(s)
}

// Values returns all possible status values
func (s StatusType) Values() []StatusType {
	return statusTypeHelper.Values()
}

// MarshalJSON converts status to JSON string
func (s StatusType) MarshalJSON() ([]byte, error) {
	return statusTypeHelper.MarshalJSONImpl(s)
}

// UnmarshalJSON converts JSON string to status
func (s *StatusType) UnmarshalJSON(data []byte) error {
	val, err := statusTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*s = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:639</h2>
<pre>var optimizationLevelTypeHelper = NewEnumHelper(map[OptimizationLevelType]string{
	OptimizationLevelNone:         "none",
	OptimizationLevelConservative: "conservative",
	OptimizationLevelAggressive:   "aggressive",
}, func(ol OptimizationLevelType) bool {
	return ol >= OptimizationLevelNone && ol <= OptimizationLevelAggressive
}, func() []OptimizationLevelType {
	return []OptimizationLevelType{OptimizationLevelNone, OptimizationLevelConservative, OptimizationLevelAggressive}
}, false)

// String returns string representation
func (ol OptimizationLevelType) String() string {
	return optimizationLevelTypeHelper.String(ol)
}

// IsValid checks if optimization level is valid
func (ol OptimizationLevelType) IsValid() bool {
	return optimizationLevelTypeHelper.IsValid(ol)
}

// Values returns all possible optimization level values
func (ol OptimizationLevelType) Values() []OptimizationLevelType {
	return optimizationLevelTypeHelper.Values()
}

// MarshalJSON converts optimization level to JSON string
func (ol OptimizationLevelType) MarshalJSON() ([]byte, error) {
	return optimizationLevelTypeHelper.MarshalJSONImpl(ol)
}

// UnmarshalJSON converts JSON string to optimization level
func (ol *OptimizationLevelType) UnmarshalJSON(data []byte) error {
	val, err := optimizationLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*ol = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:690</h2>
<pre>var fileSelectionStrategyTypeHelper = NewEnumHelper(map[FileSelectionStrategyType]string{
	FileSelectionStrategyAll:        "all",
	FileSelectionStrategyUnusedOnly: "unused_only",
	FileSelectionStrategyManual:     "manual",
}, func(fss FileSelectionStrategyType) bool {
	return fss >= FileSelectionStrategyAll && fss <= FileSelectionStrategyManual
}, func() []FileSelectionStrategyType {
	return []FileSelectionStrategyType{FileSelectionStrategyAll, FileSelectionStrategyUnusedOnly, FileSelectionStrategyManual}
}, false)

// String returns string representation
func (fss FileSelectionStrategyType) String() string {
	return fileSelectionStrategyTypeHelper.String(fss)
}

// IsValid checks if file selection strategy is valid
func (fss FileSelectionStrategyType) IsValid() bool {
	return fileSelectionStrategyTypeHelper.IsValid(fss)
}

// Values returns all possible file selection strategy values
func (fss FileSelectionStrategyType) Values() []FileSelectionStrategyType {
	return fileSelectionStrategyTypeHelper.Values()
}

// MarshalJSON converts file selection strategy to JSON string
func (fss FileSelectionStrategyType) MarshalJSON() ([]byte, error) {
	return fileSelectionStrategyTypeHelper.MarshalJSONImpl(fss)
}

// UnmarshalJSON converts JSON string to file selection strategy
func (fss *FileSelectionStrategyType) UnmarshalJSON(data []byte) error {
	val, err := fileSelectionStrategyTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*fss = val
	return nil
}</pre>
<h1>#211 found 7 clones</h1>
<h2>internal/infrastructure/cleaners/homebrew.go:181</h2>
<pre>cleanupResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyConservative,
}</pre>
<h2>internal/infrastructure/cleaners/homebrew.go:213</h2>
<pre>simulateResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyDryRun,
}</pre>
<h2>internal/infrastructure/cleaners/npm.go:140</h2>
<pre>cleanupCmdResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyConservative,
}</pre>
<h2>internal/infrastructure/cleaners/npm.go:162</h2>
<pre>simulateResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyDryRun,
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:141</h2>
<pre>cleanupCmdResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyConservative,
}</pre>
<h2>internal/infrastructure/cleaners/pnpm.go:163</h2>
<pre>simulateResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyDryRun,
}</pre>
<h2>internal/infrastructure/cleaners/temp_files.go:152</h2>
<pre>simulateResult := shared.CleanResult{
	FreedBytes:   bytesFreed,
	ItemsRemoved: itemsRemoved,
	ItemsFailed:  0,
	CleanTime:    0,
	CleanedAt:    time.Now(),
	Strategy:     shared.StrategyDryRun,
}</pre>
<h1>#212 found 5 clones</h1>
<h2>internal/shared/errors/types.go:135</h2>
<pre>func (e *CleanWizardError) IsType(errorType ErrorType) bool {
	return e.Type == errorType
}</pre>
<h2>internal/shared/errors/types.go:140</h2>
<pre>func (e *CleanWizardError) IsCode(code ErrorCode) bool {
	return e.Code == code
}</pre>
<h2>internal/shared/errors/types.go:145</h2>
<pre>func (e *CleanWizardError) IsSeverity(severity ErrorSeverity) bool {
	return e.Severity >= severity
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:313</h2>
<pre>func (e *CleanWizardError) IsLevel(level ErrorLevel) bool {
	return e.Level >= level
}</pre>
<h2>internal/shared/utils/pkg/errors/errors.go:318</h2>
<pre>func (e *CleanWizardError) IsErrorCode(code ErrorCode) bool {
	return e.Code == code
}</pre>
<h1>#213 found 2 clones</h1>
<h2>internal/application/config/config.go:67</h2>
<pre>defaultConfigPath := filepath.Join(os.Getenv("HOME"), configName+"."+configType)</pre>
<h2>internal/application/config/config.go:154</h2>
<pre>configPath := filepath.Join(os.Getenv("HOME"), configName+"."+configType)</pre>
<h1>#214 found 3 clones</h1>
<h2>internal/interface/api/mapper_test.go:440</h2>
<pre>if !strings.HasPrefix(errorMsg, "failed to map profile") {
	t.Errorf("Expected error to start with 'failed to map profile', got: %s", errorMsg)
}</pre>
<h2>internal/interface/api/mapper_test.go:483</h2>
<pre>if !strings.HasPrefix(errorMsg, "domain config validation failed: ") {
	t.Errorf("Expected error to start with 'domain config validation failed: ', got: %s", errorMsg)
}</pre>
<h2>internal/interface/api/mapper_test.go:535</h2>
<pre>if !strings.Contains(errorMsg, "validation") {
	t.Errorf("Expected error to mention 'validation', got: %s", errorMsg)
}</pre>
<h1>#215 found 13 clones</h1>
<h2>internal/domain/shared/type_safe_enums.go:127</h2>
<pre>func (rl RiskLevelType) String() string {
	return riskLevelHelper.String(rl)
}

// IsValid checks if risk level is valid
func (rl RiskLevelType) IsValid() bool {
	return riskLevelHelper.IsValid(rl)
}

// Values returns all possible values
func (rl RiskLevelType) Values() []RiskLevelType {
	return riskLevelHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (rl RiskLevelType) MarshalJSON() ([]byte, error) {
	return riskLevelHelper.MarshalJSONImpl(rl)
}

// UnmarshalJSON implements json.Unmarshaler
func (rl *RiskLevelType) UnmarshalJSON(data []byte) error {
	val, err := riskLevelHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*rl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:176</h2>
<pre>func (on OperationNameType) String() string {
	return operationNameHelper.String(on)
}

// IsValid checks if operation name is valid
func (on OperationNameType) IsValid() bool {
	return operationNameHelper.IsValid(on)
}

// Values returns all possible values
func (on OperationNameType) Values() []OperationNameType {
	return operationNameHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (on OperationNameType) MarshalJSON() ([]byte, error) {
	return operationNameHelper.MarshalJSONImpl(on)
}

// UnmarshalJSON implements json.Unmarshaler
func (on *OperationNameType) UnmarshalJSON(data []byte) error {
	val, err := operationNameHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*on = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:245</h2>
<pre>func (vl ValidationLevelType) String() string {
	return validationLevelHelper.String(vl)
}

// IsValid checks if validation level is valid
func (vl ValidationLevelType) IsValid() bool {
	return validationLevelHelper.IsValid(vl)
}

// Values returns all possible values
func (vl ValidationLevelType) Values() []ValidationLevelType {
	return validationLevelHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (vl ValidationLevelType) MarshalJSON() ([]byte, error) {
	return validationLevelHelper.MarshalJSONImpl(vl)
}

// UnmarshalJSON implements json.Unmarshaler
func (vl *ValidationLevelType) UnmarshalJSON(data []byte) error {
	val, err := validationLevelHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*vl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:301</h2>
<pre>func (co ChangeOperationType) String() string {
	return changeOperationHelper.String(co)
}

// IsValid checks if change operation is valid
func (co ChangeOperationType) IsValid() bool {
	return changeOperationHelper.IsValid(co)
}

// Values returns all possible values
func (co ChangeOperationType) Values() []ChangeOperationType {
	return changeOperationHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (co ChangeOperationType) MarshalJSON() ([]byte, error) {
	return changeOperationHelper.MarshalJSONImpl(co)
}

// UnmarshalJSON implements json.Unmarshaler
func (co *ChangeOperationType) UnmarshalJSON(data []byte) error {
	val, err := changeOperationHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*co = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:355</h2>
<pre>func (cs CleanStrategyType) String() string {
	return cleanStrategyHelper.String(cs)
}

// IsValid checks if clean strategy is valid
func (cs CleanStrategyType) IsValid() bool {
	return cleanStrategyHelper.IsValid(cs)
}

// Values returns all possible values
func (cs CleanStrategyType) Values() []CleanStrategyType {
	return cleanStrategyHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (cs CleanStrategyType) MarshalJSON() ([]byte, error) {
	return cleanStrategyHelper.MarshalJSONImpl(cs)
}

// UnmarshalJSON implements json.Unmarshaler
func (cs *CleanStrategyType) UnmarshalJSON(data []byte) error {
	val, err := cleanStrategyHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*cs = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:433</h2>
<pre>func (s StatusType) String() string {
	return statusTypeHelper.String(s)
}

// IsValid checks if status is valid
func (s StatusType) IsValid() bool {
	return statusTypeHelper.IsValid(s)
}

// Values returns all possible status values
func (s StatusType) Values() []StatusType {
	return statusTypeHelper.Values()
}

// MarshalJSON converts status to JSON string
func (s StatusType) MarshalJSON() ([]byte, error) {
	return statusTypeHelper.MarshalJSONImpl(s)
}

// UnmarshalJSON converts JSON string to status
func (s *StatusType) UnmarshalJSON(data []byte) error {
	val, err := statusTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*s = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:486</h2>
<pre>func (el EnforcementLevelType) String() string {
	return enforcementLevelTypeHelper.String(el)
}

// IsValid checks if enforcement level is valid
func (el EnforcementLevelType) IsValid() bool {
	return enforcementLevelTypeHelper.IsValid(el)
}

// Values returns all possible enforcement level values
func (el EnforcementLevelType) Values() []EnforcementLevelType {
	return enforcementLevelTypeHelper.Values()
}

// MarshalJSON converts enforcement level to JSON string
func (el EnforcementLevelType) MarshalJSON() ([]byte, error) {
	return enforcementLevelTypeHelper.MarshalJSONImpl(el)
}

// UnmarshalJSON converts JSON string to enforcement level
func (el *EnforcementLevelType) UnmarshalJSON(data []byte) error {
	val, err := enforcementLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*el = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:599</h2>
<pre>func (rl RecursionLevelType) String() string {
	return recursionLevelTypeHelper.String(rl)
}

// IsValid checks if recursion level is valid
func (rl RecursionLevelType) IsValid() bool {
	return recursionLevelTypeHelper.IsValid(rl)
}

// Values returns all possible recursion level values
func (rl RecursionLevelType) Values() []RecursionLevelType {
	return recursionLevelTypeHelper.Values()
}

// MarshalJSON converts recursion level to JSON string
func (rl RecursionLevelType) MarshalJSON() ([]byte, error) {
	return recursionLevelTypeHelper.MarshalJSONImpl(rl)
}

// UnmarshalJSON converts JSON string to recursion level
func (rl *RecursionLevelType) UnmarshalJSON(data []byte) error {
	val, err := recursionLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*rl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:650</h2>
<pre>func (ol OptimizationLevelType) String() string {
	return optimizationLevelTypeHelper.String(ol)
}

// IsValid checks if optimization level is valid
func (ol OptimizationLevelType) IsValid() bool {
	return optimizationLevelTypeHelper.IsValid(ol)
}

// Values returns all possible optimization level values
func (ol OptimizationLevelType) Values() []OptimizationLevelType {
	return optimizationLevelTypeHelper.Values()
}

// MarshalJSON converts optimization level to JSON string
func (ol OptimizationLevelType) MarshalJSON() ([]byte, error) {
	return optimizationLevelTypeHelper.MarshalJSONImpl(ol)
}

// UnmarshalJSON converts JSON string to optimization level
func (ol *OptimizationLevelType) UnmarshalJSON(data []byte) error {
	val, err := optimizationLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*ol = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:701</h2>
<pre>func (fss FileSelectionStrategyType) String() string {
	return fileSelectionStrategyTypeHelper.String(fss)
}

// IsValid checks if file selection strategy is valid
func (fss FileSelectionStrategyType) IsValid() bool {
	return fileSelectionStrategyTypeHelper.IsValid(fss)
}

// Values returns all possible file selection strategy values
func (fss FileSelectionStrategyType) Values() []FileSelectionStrategyType {
	return fileSelectionStrategyTypeHelper.Values()
}

// MarshalJSON converts file selection strategy to JSON string
func (fss FileSelectionStrategyType) MarshalJSON() ([]byte, error) {
	return fileSelectionStrategyTypeHelper.MarshalJSONImpl(fss)
}

// UnmarshalJSON converts JSON string to file selection strategy
func (fss *FileSelectionStrategyType) UnmarshalJSON(data []byte) error {
	val, err := fileSelectionStrategyTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*fss = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:731</h2>
<pre>func (st ScanTypeType) String() string {
	return scanTypeHelper.String(st)
}

// IsValid checks if scan type is valid
func (st ScanTypeType) IsValid() bool {
	return scanTypeHelper.IsValid(st)
}

// Values returns all possible values
func (st ScanTypeType) Values() []ScanTypeType {
	return scanTypeHelper.Values()
}

// MarshalJSON implements json.Marshaler
func (st ScanTypeType) MarshalJSON() ([]byte, error) {
	return scanTypeHelper.MarshalJSONImpl(st)
}

// UnmarshalJSON implements json.Unmarshaler
func (st *ScanTypeType) UnmarshalJSON(data []byte) error {
	val, err := scanTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*st = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:784</h2>
<pre>func (sl SafetyLevelType) String() string {
	return safetyLevelTypeHelper.String(sl)
}

// IsValid checks if safety level is valid
func (sl SafetyLevelType) IsValid() bool {
	return safetyLevelTypeHelper.IsValid(sl)
}

// Values returns all possible safety level values
func (sl SafetyLevelType) Values() []SafetyLevelType {
	return safetyLevelTypeHelper.Values()
}

// MarshalJSON converts safety level to JSON string
func (sl SafetyLevelType) MarshalJSON() ([]byte, error) {
	return safetyLevelTypeHelper.MarshalJSONImpl(sl)
}

// UnmarshalJSON converts JSON string to safety level
func (sl *SafetyLevelType) UnmarshalJSON(data []byte) error {
	val, err := safetyLevelTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*sl = val
	return nil
}</pre>
<h2>internal/domain/shared/type_safe_enums.go:837</h2>
<pre>func (em ExecutionModeType) String() string {
	return executionModeTypeHelper.String(em)
}

// IsValid checks if execution mode is valid
func (em ExecutionModeType) IsValid() bool {
	return executionModeTypeHelper.IsValid(em)
}

// Values returns all possible execution mode values
func (em ExecutionModeType) Values() []ExecutionModeType {
	return executionModeTypeHelper.Values()
}

// MarshalJSON converts execution mode to JSON string
func (em ExecutionModeType) MarshalJSON() ([]byte, error) {
	return executionModeTypeHelper.MarshalJSONImpl(em)
}

// UnmarshalJSON converts JSON string to execution mode
func (em *ExecutionModeType) UnmarshalJSON(data []byte) error {
	val, err := executionModeTypeHelper.UnmarshalJSONImpl(data)
	if err != nil {
		return err
	}
	*em = val
	return nil
}</pre>
<h1>#216 found 2 clones</h1>
<h2>test/domain/benchmarks_test.go:11</h2>
<pre>b.Run("RiskLevel", func(b *testing.B) {
	levels := []RiskLevelType{RiskLow, RiskMedium, RiskHigh, RiskCritical}
	b.ResetTimer()
	for i := 0; b.Loop(); i++ {
		_ = levels[i%len(levels)].String()
	}
})

b.Run("CleanStrategy", func(b *testing.B) {
	strategies := []CleanStrategyType{StrategyAggressive, StrategyConservative, StrategyDryRun}
	b.ResetTimer()
	for i := 0; b.Loop(); i++ {
		_ = strategies[i%len(strategies)].String()
	}
})</pre>
<h2>test/domain/benchmarks_test.go:38</h2>
<pre>b.Run("RiskLevel", func(b *testing.B) {
	levels := []RiskLevelType{RiskLow, RiskMedium, RiskHigh, RiskCritical}
	b.ResetTimer()
	for i := 0; b.Loop(); i++ {
		_ = levels[i%len(levels)].IsValid()
	}
})

b.Run("CleanStrategy", func(b *testing.B) {
	strategies := []CleanStrategyType{StrategyAggressive, StrategyConservative, StrategyDryRun}
	b.ResetTimer()
	for i := 0; b.Loop(); i++ {
		_ = strategies[i%len(strategies)].IsValid()
	}
})</pre>
<h1>#217 found 8 clones</h1>
<h2>internal/domain/config/config.go:76</h2>
<pre>{
	Name:        "nix-generations",
	Description: "Remove old Nix store generations",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "Clean temporary files from user directories",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:96</h2>
<pre>{
	Name:        "nix-generations",
	Description: "Remove old Nix store generations",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:102</h2>
<pre>{
	Name:        "homebrew",
	Description: "Homebrew cleanup, autoremove and cache cleaning",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:108</h2>
<pre>{
	Name:        "npm-cache",
	Description: "Node.js npm cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:114</h2>
<pre>{
	Name:        "pnpm-store",
	Description: "pnpm store cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:120</h2>
<pre>{
	Name:        "go-cache",
	Description: "Go build and module cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:126</h2>
<pre>{
	Name:        "cargo-cache",
	Description: "Rust Cargo cache cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
}</pre>
<h2>internal/domain/config/config.go:132</h2>
<pre>{
	Name:        "temp-files",
	Description: "System and user temporary file cleanup",
	RiskLevel:   shared.RiskLevelLowType,
	Status:      shared.StatusEnabled,
},
{
	Name:        "docker",
	Description: "Docker system cleanup (containers, images, volumes)",
	RiskLevel:   shared.RiskLevelMediumType,
	Status:      shared.StatusDisabled, // Disabled by default for safety
}</pre>
<h1>#218 found 2 clones</h1>
<h2>test/config/bdd_nix_validation_test.go:97</h2>
<pre>NixGenerations: &shared.NixGenerationsSettings{
	Generations:  3,
	Optimization: shared.OptimizationLevelConservative,
}</pre>
<h2>test/validation/validation_benchmark_test.go:51</h2>
<pre>NixGenerations: &shared.NixGenerationsSettings{
	Generations:  3,
	Optimization: shared.OptimizationLevelConservative,
}</pre>
